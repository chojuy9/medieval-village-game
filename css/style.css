/* ì¤‘ì„¸ ë§ˆì„ ê²½ì˜ ê²Œì„ ìŠ¤íƒ€ì¼ì‹œíŠ¸ */
/* Phase 0 ìƒ‰ê° ë¦¬ìŠ¤í‚¨ - ì¤‘ì„¸ ì–‘í”¼ì§€ RPG í…Œë§ˆ */

/* ============================================
   CSS ë³€ìˆ˜ - ìƒ‰ìƒ íŒ”ë ˆíŠ¸ ë° ë””ìì¸ í† í°
   ============================================ */
:root {
    /* â”€â”€ ê¸°ë³¸ ê°ˆìƒ‰ í†¤ â”€â”€ */
    --primary-dark: #2a1a0a;
    --primary: #6b4423;
    --primary-light: #8b6914;
    --accent-gold: #c8a43a;
    --accent-cream: #f0e4c8;
    --bg-parchment: #e8d5a3;
    --bg-section: #dcc89a;

    /* â”€â”€ ìƒíƒœ ìƒ‰ìƒ (ì±„ë„ ë‚®ì¶¤) â”€â”€ */
    --positive: #4a7a2e;
    --negative: #8b2020;
    --warning: #b8860b;
    --info: #4a6a3a;

    /* â”€â”€ ìƒì‚° ì²´ì¸ í‹°ì–´ (ì±„ë„ ë‚®ì¶¤) â”€â”€ */
    --tier1-color: #6b4423;
    --tier2-color: #4a6a3a;
    --tier3-color: #7a5a30;

    /* â”€â”€ ê·¸ë¦¼ì (blur ì—†ëŠ” í•˜ë“œì…°ë„ìš°) â”€â”€ */
    --shadow-sm: 2px 2px 0 rgba(42, 26, 10, 0.3);
    --shadow-md: 3px 3px 0 rgba(42, 26, 10, 0.4);
    --shadow-lg: 4px 4px 0 rgba(42, 26, 10, 0.5);

    /* â”€â”€ ë‘¥ê¸€ê¸° (ëŒ€í­ ì¶•ì†Œ) â”€â”€ */
    --radius-sm: 3px;
    --radius-md: 4px;
    --radius-lg: 5px;

    /* â”€â”€ íŠ¸ëœì§€ì…˜ â”€â”€ */
    --transition-fast: 0.15s ease;
    --transition-normal: 0.25s ease;
    --transition-slow: 0.4s ease;
}

/* ì „ì²´ ì´ˆê¸°í™” */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'Noto Sans KR', 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
    background: #5c3a1e;
    background-image:
        repeating-linear-gradient(
            0deg,
            transparent,
            transparent 3px,
            rgba(0,0,0,0.02) 3px,
            rgba(0,0,0,0.02) 4px
        );
    min-height: 100vh;
    padding: 20px;
    color: var(--primary-dark);
    transition: background-color 1.5s ease-in-out;
}

/* ê²Œì„ ì»¨í…Œì´ë„ˆ */
#game-container {
    max-width: 800px;
    margin: 0 auto;
    background: #e8d5a3;
    border-radius: 4px;
    border: 4px solid #3a2210;
    box-shadow:
        0 0 0 1px #8b6914,
        4px 4px 0 rgba(0,0,0,0.4);
    overflow: hidden;
}

/* í—¤ë” */
header {
    background: #4a3520;
    padding: 20px;
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    border-bottom: 3px solid #2a1a0a;
}

/* ê³„ì ˆ ë°°ë„ˆ */
#season-banner {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 8px 20px;
    background: #d5dcc0;
    border-bottom: 2px solid #8b6914;
    font-weight: bold;
    color: #4a6a3a;
    transition: background 0.5s ease, color 0.5s ease;
}

#season-banner.spring {
    background: #d5dcc0;
    color: #4a6a3a;
}

#season-banner.summer {
    background: #dcd4a0;
    color: #8b7020;
}

#season-banner.autumn {
    background: #dcc8a0;
    color: #8b5a20;
}

#season-banner.winter {
    background: #c8c4b8;
    color: #5a5a50;
}

.season-progress {
    flex: 1;
    height: 6px;
    background: rgba(0, 0, 0, 0.1);
    border-radius: 3px;
    overflow: hidden;
}

.season-progress-bar {
    height: 100%;
    border-radius: 3px;
    background: currentColor;
    transition: width 0.5s ease;
}

header h1 {
    font-family: 'Press Start 2P', cursive;
    font-size: 1.1em;
    color: #e8d5a3;
    text-shadow: 2px 2px 0 #2a1a0a;
    font-weight: bold;
    letter-spacing: 2px;
}

#menu-btn {
    position: absolute;
    right: 20px;
    background: rgba(255, 255, 255, 0.15);
    border: 2px solid rgba(255, 248, 220, 0.5);
    border-radius: 4px;
    color: #e8d5a3;
    font-size: 1.4em;
    width: 44px;
    height: 44px;
    cursor: pointer;
    transition: background 0.2s ease;
    display: flex;
    align-items: center;
    justify-content: center;
}

#menu-btn:hover {
    background: rgba(255, 255, 255, 0.3);
}

/* ëª¨ë‹¬ ì˜¤ë²„ë ˆì´ */
.modal-overlay {
    position: fixed;
    inset: 0;
    background: rgba(0, 0, 0, 0.6);
    z-index: 2000;
    display: flex;
    align-items: center;
    justify-content: center;
}

.modal-overlay.hidden {
    display: none;
}

.modal-content {
    background: #e8d5a3;
    border: 4px solid #6b4423;
    border-radius: var(--radius-md);
    padding: 30px;
    min-width: 280px;
    max-width: 90vw;
    box-shadow: var(--shadow-lg);
    text-align: center;
}

.modal-content h2 {
    font-size: 1.5em;
    color: #4a3520;
    margin-bottom: 25px;
}

.modal-buttons {
    display: flex;
    flex-direction: column;
    gap: 12px;
}

.modal-btn {
    background: #d9c49a;
    border: 2px solid #8b6914;
    border-radius: var(--radius-sm);
    padding: 12px 20px;
    font-size: 1em;
    font-weight: bold;
    color: #2a1a0a;
    cursor: pointer;
    transition: all 0.2s ease;
    min-height: 44px;
}

.modal-btn:hover {
    background: #e8d5a3;
    transform: translateY(-1px);
}

.danger-btn {
    background: #8b2020;
    border-color: #5a1010;
    color: #f0e4c8;
}

.danger-btn:hover {
    background: #a02828;
}

/* ìƒˆ ê²Œì„ í™•ì¸ íŒ¨ë„ */
.confirm-panel {
    margin-top: 20px;
    padding: 15px;
    background: rgba(107, 68, 35, 0.1);
    border: 2px solid #8b6914;
    border-radius: var(--radius-sm);
}

.confirm-panel p {
    color: #4a3520;
    font-size: 0.95em;
    line-height: 1.5;
    margin-bottom: 15px;
}

.confirm-buttons {
    display: flex;
    gap: 10px;
    justify-content: center;
}

/* ì„¹ì…˜ ê³µí†µ ìŠ¤íƒ€ì¼ */
section {
    padding: 20px;
    border-bottom: 2px solid #8b6914;
}

section h2 {
    font-size: 1.3em;
    color: #4a3520;
    margin-bottom: 15px;
    padding-bottom: 10px;
    border-bottom: 2px solid #c8a43a;
}

/* ìì› íŒ¨ë„ */
#resources-panel {
    background: #dcc89a;
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 10px;
}

.resource {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 12px 15px;
    background: #d9c49a;
    border-radius: var(--radius-sm);
    border: 2px solid #8b6914;
    transition: all 0.3s ease;
}

.resource:hover {
    transform: none;
    box-shadow: var(--shadow-sm);
    border-color: #c8a43a;
}

.resource-icon {
    font-size: 1.8em;
    margin-right: 10px;
}

.resource-name {
    flex: 1;
    font-weight: bold;
    font-size: 1.1em;
}

.resource-amount {
    font-family: 'Press Start 2P', 'Noto Sans KR', monospace;
    font-size: 0.85em;
    font-weight: bold;
    color: #4a3520;
    min-width: 80px;
    text-align: right;
    animation: pulse 0.5s ease-in-out;
}

.resource-rate {
    font-size: 0.8em;
    font-weight: bold;
    padding: 2px 6px;
    border-radius: var(--radius-sm);
    min-width: 60px;
    text-align: center;
}

.resource-rate.positive {
    color: #4a7a2e;
    background: rgba(74, 122, 46, 0.1);
}

.resource-rate.negative {
    color: #8b2020;
    background: rgba(139, 32, 32, 0.1);
}

.resource-rate.neutral {
    color: #6b4423;
}

/* ì¸êµ¬ íŒ¨ë„ */
#population-panel {
    background: #dcc89a;
}

.stat {
    display: flex;
    justify-content: space-between;
    padding: 12px 15px;
    margin-bottom: 10px;
    background: #d9c49a;
    border-radius: var(--radius-sm);
    border: 2px solid #8b6914;
    font-size: 1.1em;
}

.stat span:first-child {
    font-weight: bold;
    color: #4a3520;
}

.stat span:last-child {
    font-family: 'Press Start 2P', 'Noto Sans KR', monospace;
    font-size: 0.85em;
    font-weight: bold;
    color: #6b4423;
}

/* í–‰ë³µë„ íŒ¨ë„ */
#happiness-panel {
    background: #dcc89a;
    padding: 15px 20px;
    border-bottom: 2px solid #8b6914;
}

.happiness-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-weight: bold;
    color: #4a3520;
    margin-bottom: 8px;
    font-size: 1.1em;
}

.happiness-bar-container {
    height: 12px;
    background: #c4a872;
    border-radius: var(--radius-sm);
    overflow: hidden;
    border: 2px solid #8b6914;
}

.happiness-bar {
    height: 100%;
    border-radius: 2px;
    transition: width 0.5s ease, background 0.5s ease;
}

/* í–‰ë³µë„ ìˆ˜ì¹˜ë³„ ìƒ‰ìƒ */
.happiness-bar.high {
    background: #4a7a2e;
}

.happiness-bar.medium {
    background: #b8860b;
}

.happiness-bar.low {
    background: #8b2020;
}

/* í–‰ë³µë„ ìš”ì¸ í‘œì‹œ */
.happiness-factors {
    display: flex;
    flex-wrap: wrap;
    gap: 5px;
    margin-top: 8px;
    font-size: 0.8em;
}

.happiness-factor {
    padding: 2px 8px;
    border-radius: var(--radius-sm);
    font-weight: bold;
}

.happiness-factor.positive {
    background: rgba(74, 122, 46, 0.2);
    color: #4a7a2e;
}

.happiness-factor.negative {
    background: rgba(139, 32, 32, 0.2);
    color: #8b2020;
}

/* ê±´ë¬¼ ê±´ì„¤ ë²„íŠ¼ íŒ¨ë„ */
#buildings-panel {
    background: #dcc89a;
}

#building-buttons {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
    gap: 15px;
}

.building-btn {
    background: #d9c49a;
    border: 3px solid #6b4423;
    border-radius: var(--radius-sm);
    padding: 15px;
    cursor: pointer;
    transition: all 0.3s ease;
    min-height: 100px;
    display: flex;
    flex-direction: column;
    justify-content: center;
    box-shadow: var(--shadow-sm);
}

.building-btn:hover:not(:disabled) {
    background: #e8d5a3;
    transform: translateY(-2px);
    box-shadow: var(--shadow-md);
}

.building-btn:active:not(:disabled) {
    transform: translateY(-1px);
}

.building-btn:disabled {
    background: #a09070;
    border-color: #6b6050;
    opacity: 0.6;
    cursor: not-allowed;
}

.building-btn .building-name {
    font-size: 1.2em;
    font-weight: bold;
    color: #2a1a0a;
    margin-bottom: 8px;
}

.building-btn .building-cost {
    font-size: 0.9em;
    color: #4a3520;
    margin-bottom: 5px;
}

.building-btn .building-workers {
    font-size: 0.85em;
    color: #6b4423;
}

.building-btn .building-description {
    font-size: 0.8em;
    color: #6b4423;
    margin-top: 5px;
    font-style: italic;
}

/* ì ê¸ˆ ê±´ë¬¼ ìŠ¤íƒ€ì¼ */
.building-btn.locked {
    opacity: 0.4;
    filter: grayscale(70%);
    cursor: default;
    position: relative;
}

.building-btn.locked:hover {
    transform: none;
    box-shadow: var(--shadow-sm);
}

.building-btn.locked::before {
    content: 'ğŸ”’';
    position: absolute;
    top: 10px;
    right: 10px;
    font-size: 1.2em;
}

.building-btn.locked .unlock-tooltip {
    position: absolute;
    bottom: 100%;
    left: 50%;
    transform: translateX(-50%);
    background: #2a1a0a;
    color: #f0e4c8;
    padding: 8px 12px;
    border-radius: var(--radius-sm);
    font-size: 0.8em;
    white-space: nowrap;
    opacity: 0;
    visibility: hidden;
    transition: opacity 0.2s ease, visibility 0.2s ease;
    z-index: 100;
    pointer-events: none;
}

.building-btn.locked:hover .unlock-tooltip {
    opacity: 1;
    visibility: visible;
}

.building-btn.locked .unlock-tooltip::after {
    content: '';
    position: absolute;
    top: 100%;
    left: 50%;
    transform: translateX(-50%);
    border: 6px solid transparent;
    border-top-color: #2a1a0a;
}

/* ê±´ë¬¼ í•´ê¸ˆ ì• ë‹ˆë©”ì´ì…˜ */
@keyframes unlockBuilding {
    0% {
        opacity: 0.4;
        filter: grayscale(70%);
        transform: scale(0.95);
    }

    50% {
        opacity: 0.7;
        filter: grayscale(30%);
        transform: scale(1.02);
    }

    100% {
        opacity: 1;
        filter: grayscale(0%);
        transform: scale(1);
    }
}

.building-btn.unlocked-animation {
    animation: unlockBuilding 0.5s ease-out forwards;
}

/* ê±´ì„¤ëœ ê±´ë¬¼ íŒ¨ë„ */
#built-buildings-panel {
    background: #dcc89a;
}

#built-buildings-list {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
    gap: 10px;
}

.built-building {
    background: #d9c49a;
    border: 2px solid #8b6914;
    border-radius: var(--radius-sm);
    padding: 12px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    animation: slideIn 0.3s ease-out;
}

.built-building .building-info {
    font-weight: bold;
    color: #4a3520;
}

.built-building .building-workers {
    font-size: 0.9em;
    color: #6b4423;
}

.built-building .building-count {
    font-family: 'Press Start 2P', 'Noto Sans KR', monospace;
    font-size: 0.85em;
    background: #6b4423;
    color: #f0e4c8;
    padding: 3px 8px;
    border-radius: var(--radius-sm);
    font-weight: bold;
}

/* ì² ê±° ë²„íŠ¼ */
.demolish-btn {
    background: rgba(139, 32, 32, 0.15);
    border: 1px solid #8b2020;
    border-radius: var(--radius-sm);
    padding: 4px 8px;
    cursor: pointer;
    font-size: 0.85em;
    transition: all 0.2s;
    min-width: 32px;
    min-height: 32px;
}

.demolish-btn:hover {
    background: rgba(139, 32, 32, 0.3);
    transform: scale(1.05);
}

.refund-info {
    color: #4a7a2e;
    font-weight: bold;
    font-size: 0.95em;
    margin-top: 10px;
}

/* ì¼ê¾¼ +/- ì¡°ì ˆ ì»¨íŠ¸ë¡¤ */
.worker-control {
    display: flex;
    align-items: center;
    gap: 4px;
    background: rgba(107, 68, 35, 0.1);
    border: 1px solid #8b6914;
    border-radius: var(--radius-sm);
    padding: 2px 4px;
}

.worker-ctrl-btn {
    width: 28px;
    height: 28px;
    border: 2px solid #6b4423;
    border-radius: var(--radius-sm);
    font-size: 1.1em;
    font-weight: bold;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.15s ease;
    line-height: 1;
    padding: 0;
}

.worker-minus {
    background: #c9a0a0;
    color: #8b2020;
    border-color: #8b2020;
}

.worker-minus:hover:not(:disabled) {
    background: #b88888;
    transform: scale(1.05);
}

.worker-plus {
    background: #a8c4a0;
    color: #2a5a1a;
    border-color: #4a7a2e;
}

.worker-plus:hover:not(:disabled) {
    background: #90b088;
    transform: scale(1.05);
}

.worker-ctrl-btn:disabled {
    opacity: 0.35;
    cursor: not-allowed;
    transform: none;
}

.worker-display {
    font-weight: bold;
    font-size: 0.85em;
    color: #4a3520;
    min-width: 36px;
    text-align: center;
}

/* í‘¸í„° */
footer {
    background: #4a3520;
    padding: 15px 20px;
    display: flex;
    flex-wrap: wrap;
    gap: 15px;
    align-items: center;
    justify-content: space-between;
    border-top: 3px solid #2a1a0a;
}

footer button {
    background: #d9c49a;
    border: 2px solid #6b4423;
    border-radius: var(--radius-sm);
    padding: 10px 20px;
    font-size: 1em;
    font-weight: bold;
    color: #2a1a0a;
    cursor: pointer;
    transition: all 0.3s ease;
    min-width: 44px;
    min-height: 44px;
}

footer button:hover {
    background: #e8d5a3;
    transform: translateY(-1px);
    box-shadow: var(--shadow-sm);
}

footer button:active {
    transform: translateY(0);
}

#game-time {
    color: #e8d5a3;
    font-weight: bold;
    font-size: 1em;
}

/* ë©”ì‹œì§€ ë°•ìŠ¤ */
#message-box {
    position: fixed;
    top: 20px;
    left: 50%;
    transform: translateX(-50%);
    background: #e8d5a3;
    border: 3px solid #6b4423;
    border-radius: var(--radius-md);
    padding: 15px 30px;
    font-weight: bold;
    color: #2a1a0a;
    box-shadow: var(--shadow-lg);
    z-index: 1000;
    transition: opacity 0.3s ease, transform 0.3s ease;
    max-width: 90%;
    text-align: center;
}

#message-box.hidden {
    opacity: 0;
    transform: translateX(-50%) translateY(-20px);
    pointer-events: none;
}

#message-box.show {
    opacity: 1;
    transform: translateX(-50%) translateY(0);
    animation: slideDown 0.3s ease-out;
}

#message-box.error {
    background: #d4a0a0;
    border-color: #8b2020;
    color: #5a1010;
}

#message-box.success {
    background: #b0c8a0;
    border-color: #4a7a2e;
    color: #2a4a1a;
}

/* ì´ë²¤íŠ¸ ë°°ë„ˆ */
#event-banner {
    background: #e0d0a8;
    border-bottom: 3px solid #6b4423;
    padding: 15px 20px;
    transition: all 0.3s ease;
}

#event-banner.hidden {
    display: none;
}

#event-banner.show {
    animation: slideDown 0.3s ease-out;
}

#event-banner .event-content {
    display: flex;
    align-items: center;
    gap: 15px;
    margin-bottom: 10px;
}

#event-banner .event-icon {
    font-size: 2em;
    min-width: 40px;
    text-align: center;
}

#event-banner .event-info {
    flex: 1;
}

#event-banner .event-name {
    font-size: 1.2em;
    font-weight: bold;
    color: #2a1a0a;
    margin-bottom: 5px;
}

#event-banner .event-description {
    font-size: 0.95em;
    color: #4a3520;
}

#event-banner .event-progress {
    height: 6px;
    background: #c4a872;
    border-radius: var(--radius-sm);
    overflow: hidden;
}

#event-banner .progress-bar {
    height: 100%;
    background: #8b6914;
    border-radius: var(--radius-sm);
    transition: width 0.3s ease;
}

/* ì´ë²¤íŠ¸ íƒ€ì…ë³„ ìƒ‰ìƒ */
#event-banner.event-positive {
    border-left: 4px solid #4a7a2e;
}

#event-banner.event-positive .progress-bar {
    background: #4a7a2e;
}

#event-banner.event-neutral {
    border-left: 4px solid #b8860b;
}

#event-banner.event-neutral .progress-bar {
    background: #b8860b;
}

#event-banner.event-negative {
    border-left: 4px solid #8b2020;
}

#event-banner.event-negative .progress-bar {
    background: #8b2020;
}

/* íŠœí† ë¦¬ì–¼ ì˜¤ë²„ë ˆì´ */
#tutorial-overlay {
    position: fixed;
    bottom: 100px;
    left: 50%;
    transform: translateX(-50%);
    z-index: 1500;
    transition: opacity 0.3s ease, transform 0.3s ease;
}

#tutorial-overlay.hidden {
    opacity: 0;
    transform: translateX(-50%) translateY(20px);
    pointer-events: none;
}

.tutorial-bubble {
    background: #e8d5a3;
    border: 3px solid #c8a43a;
    border-radius: var(--radius-md);
    padding: 15px 20px;
    max-width: 90vw;
    box-shadow: var(--shadow-lg);
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 10px;
}

.tutorial-icon {
    font-size: 2em;
}

.tutorial-text {
    color: #4a3520;
    font-size: 1em;
    text-align: center;
    line-height: 1.5;
}

.tutorial-dismiss {
    background: #c8a43a;
    border: 2px solid #6b4423;
    border-radius: var(--radius-sm);
    padding: 8px 20px;
    font-weight: bold;
    color: #2a1a0a;
    cursor: pointer;
    transition: all 0.2s ease;
    min-height: 44px;
}

.tutorial-dismiss:hover {
    background: #d4b044;
    transform: translateY(-1px);
}

/* êµì—­ íŒ¨ë„ */
#trade-panel {
    background: #dcc89a;
}

#trade-panel.hidden {
    display: none;
}

#trade-controls {
    display: flex;
    flex-direction: column;
    gap: 15px;
}

.trade-row {
    display: flex;
    align-items: center;
    gap: 10px;
    flex-wrap: wrap;
}

.trade-row label {
    font-weight: bold;
    color: #4a3520;
    min-width: 80px;
}

.trade-row select,
.trade-row input {
    padding: 8px 12px;
    border: 2px solid #c8a43a;
    border-radius: var(--radius-sm);
    background: #f0e4c8;
    font-size: 1em;
    min-height: 44px;
}

.trade-row select:focus,
.trade-row input:focus {
    outline: none;
    border-color: #8b6914;
}

.trade-quick-btns {
    display: flex;
    gap: 5px;
}

.trade-quick-btn {
    padding: 6px 12px;
    background: #d9c49a;
    border: 2px solid #8b6914;
    border-radius: var(--radius-sm);
    cursor: pointer;
    font-weight: bold;
    color: #4a3520;
    transition: all 0.2s ease;
    min-height: 44px;
}

.trade-quick-btn:hover {
    background: #c8a43a;
}

.trade-info {
    background: rgba(200, 164, 58, 0.15);
    padding: 12px;
    border-radius: var(--radius-sm);
    display: flex;
    justify-content: space-between;
    flex-wrap: wrap;
    gap: 10px;
}

.trade-rate {
    font-weight: bold;
    color: #6b4423;
}

.trade-preview {
    font-weight: bold;
    color: #4a7a2e;
}

.trade-btn {
    background: #c8a43a;
    border: 2px solid #6b4423;
    border-radius: var(--radius-sm);
    padding: 12px 20px;
    font-size: 1.1em;
    font-weight: bold;
    color: #2a1a0a;
    cursor: pointer;
    transition: all 0.2s ease;
    min-height: 44px;
}

.trade-btn:hover {
    background: #d4b044;
    transform: translateY(-1px);
}

.trade-btn:disabled {
    background: #a09070;
    border-color: #6b6050;
    cursor: not-allowed;
    transform: none;
}

/* ì—…ì  íŒ¨ë„ */
#achievements-panel {
    background: #dcc89a;
}

#achievements-list {
    display: block;
}

.achievement-card {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 12px;
    background: #d9c49a;
    border: 2px solid #8b6914;
    border-radius: var(--radius-sm);
    transition: all 0.3s;
}

.achievement-card.locked {
    opacity: 0.5;
    filter: grayscale(50%);
}

.achievement-card.unlocked {
    border-color: #c8a43a;
    box-shadow: var(--shadow-sm);
}

.achievement-icon {
    font-size: 2em;
}

.achievement-info {
    flex: 1;
}

.achievement-name {
    font-weight: bold;
    color: #4a3520;
}

.achievement-desc {
    font-size: 0.85em;
    color: #6b4423;
}

.achievement-reward {
    font-size: 0.8em;
    color: #4a7a2e;
    font-weight: bold;
    padding: 2px 8px;
    background: rgba(74, 122, 46, 0.1);
    border-radius: var(--radius-sm);
}

/* ì—…ì  ë‹¬ì„± ì•Œë¦¼ ì˜¤ë²„ë ˆì´ */
#achievement-notification {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: #e8d5a3;
    border: 4px solid #c8a43a;
    border-radius: var(--radius-md);
    padding: 30px;
    text-align: center;
    z-index: 2500;
    box-shadow: var(--shadow-lg);
    animation: achievementPop 0.5s ease-out;
}

#achievement-notification.hidden {
    display: none;
}

@keyframes achievementPop {
    0% {
        opacity: 0;
        transform: translate(-50%, -50%) scale(0.5);
    }

    50% {
        transform: translate(-50%, -50%) scale(1.1);
    }

    100% {
        opacity: 1;
        transform: translate(-50%, -50%) scale(1);
    }
}

/* ê³„ì ˆ ì „í™˜ ë°°ê²½ */
body.spring {
    background: #4a5e32;
}

body.summer {
    background: #7a5a2e;
}

body.autumn {
    background: #5c3a1e;
}

body.winter {
    background: #3a4a5a;
}

body {
    transition: background 2s ease;
}

/* ì• ë‹ˆë©”ì´ì…˜ */
@keyframes pulse {

    0%,
    100% {
        transform: scale(1);
    }

    50% {
        transform: scale(1.1);
    }
}

@keyframes slideIn {
    from {
        opacity: 0;
        transform: translateX(-20px);
    }

    to {
        opacity: 1;
        transform: translateX(0);
    }
}

@keyframes slideDown {
    from {
        opacity: 0;
        transform: translateX(-50%) translateY(-20px);
    }

    to {
        opacity: 1;
        transform: translateX(-50%) translateY(0);
    }
}

/* ë°˜ì‘í˜• ë””ìì¸ */
@media (max-width: 600px) {
    body {
        padding: 10px;
    }

    header h1 {
        font-size: 0.9em;
    }

    section {
        padding: 15px;
    }

    #building-buttons {
        grid-template-columns: 1fr;
    }

    footer {
        flex-direction: column;
        gap: 10px;
    }

    footer button {
        width: 100%;
    }

    #game-time {
        text-align: center;
    }
}

@media (max-width: 480px) {
    #resources-panel {
        grid-template-columns: 1fr;
    }

    #built-buildings-list {
        grid-template-columns: 1fr;
    }

    .resource-amount {
        min-width: 60px;
    }
}

@media (max-width: 320px) {
    header h1 {
        font-size: 0.75em;
    }

    .resource {
        padding: 10px;
    }

    .resource-icon {
        font-size: 1.5em;
    }

    .resource-name {
        font-size: 1em;
    }

    .building-btn {
        padding: 12px;
        min-height: 90px;
    }
}

/* ============================================
   v0.3 UI/UX ê°œì„  - ì¶”ê°€ ìŠ¤íƒ€ì¼
   ============================================ */

/* ìì› íŒ¨ë„ - ì–‘í”¼ì§€ ë‹¨ìƒ‰ (ê¸€ë˜ìŠ¤ëª¨í”¼ì¦˜ ì œê±°) */
#resources-panel {
    background: #dcc89a;
    backdrop-filter: none;
    -webkit-backdrop-filter: none;
    border: 2px solid #8b6914;
    border-radius: var(--radius-md);
    box-shadow: var(--shadow-sm);
}

/* ìì› ê·¸ë£¹ (í‹°ì–´ë³„) */
.resource-group {
    margin-bottom: 10px;
    padding: 10px;
    border-radius: var(--radius-md);
}

.resource-group[data-tier="1"] {
    border-left: 3px solid var(--tier1-color);
}

.resource-group[data-tier="2"] {
    border-left: 3px solid var(--tier2-color);
}

.resource-group[data-tier="3"] {
    border-left: 3px solid var(--tier3-color);
}

.tier-label {
    font-size: 0.85em;
    color: var(--primary-light);
    margin-bottom: 5px;
    font-weight: 500;
}

/* ê±´ë¬¼ ë¹„ìš© ìƒ‰ìƒ ë¶„ê¸° */
.cost-sufficient {
    color: var(--positive);
    font-weight: bold;
}

.cost-insufficient {
    color: var(--negative);
    font-weight: bold;
}

/* ìì› ë³€í™” í”Œë¡œíŒ… ìˆ«ì */
.resource-float {
    position: absolute;
    animation: floatUp 1s ease-out forwards;
    font-weight: bold;
    font-size: 0.85em;
    pointer-events: none;
}

.float-positive {
    color: var(--positive);
}

.float-negative {
    color: var(--negative);
}

@keyframes floatUp {
    0% {
        opacity: 1;
        transform: translateY(0);
    }

    100% {
        opacity: 0;
        transform: translateY(-30px);
    }
}

/* ê°’ ë³€ê²½ í•˜ì´ë¼ì´íŠ¸ - scale ì œê±°, ìƒ‰ìƒìœ¼ë¡œë§Œ ë°˜ì§ */
.value-changed {
    animation: valueHighlight 0.5s ease-in-out;
}

@keyframes valueHighlight {
    0%   { color: inherit; }
    50%  { color: #c8a43a; }
    100% { color: inherit; }
}

/* ì—…ì  ì•Œë¦¼ */
.achievement-notification {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: #e8d5a3;
    border: 4px solid #c8a43a;
    border-radius: var(--radius-md);
    padding: 30px;
    z-index: 3000;
    box-shadow: var(--shadow-lg);
    animation: achievementPop 0.5s ease-out;
    text-align: center;
}

.achievement-notification .achievement-icon {
    font-size: 3em;
    margin-bottom: 10px;
}

.achievement-notification .achievement-title {
    font-size: 1.3em;
    font-weight: bold;
    color: var(--primary);
}

.achievement-notification .achievement-desc {
    color: var(--primary-light);
    margin-top: 8px;
}

.achievement-notification .achievement-reward {
    margin-top: 12px;
    color: var(--accent-gold);
    font-weight: bold;
}

/* ìƒì‚° ì²´ì¸ ê±´ë¬¼ ì¹´ë“œ */
.built-building.chain-building {
    border-left: 3px solid var(--tier2-color);
    position: relative;
}

.built-building.chain-building::before {
    content: 'â›“ï¸';
    position: absolute;
    top: -8px;
    left: 10px;
    font-size: 0.8em;
}

/* ìì› ë¶€ì¡± ê²½ê³  */
.built-building.production-stalled {
    border-left: 3px solid var(--warning);
    animation: stalledPulse 2s infinite;
}

.production-stalled-badge {
    color: var(--warning);
    font-size: 0.8em;
    font-weight: bold;
}

@keyframes stalledPulse {

    0%,
    100% {
        opacity: 1;
    }

    50% {
        opacity: 0.7;
    }
}

/* êµì—­ ì•ˆë‚´ ë¬¸êµ¬ (ì‹œì¥ ê±´ì„¤ ì „) */
.trade-placeholder {
    text-align: center;
    padding: 20px;
    color: #6b4423;
}

.trade-placeholder span {
    font-size: 2em;
    display: block;
    margin-bottom: 10px;
}

/* ì—°êµ¬ íŒ¨ë„ */
#research-panel {
    background: #dcc89a;
}

#research-panel.hidden {
    display: none;
}

.research-placeholder {
    text-align: center;
    padding: 20px;
    color: #6b4423;
}

.research-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
    gap: 10px;
}

.research-btn {
    background: #d9c49a;
    border: 2px solid #8b6914;
    border-radius: var(--radius-sm);
    padding: 12px;
    cursor: pointer;
    text-align: left;
    transition: all var(--transition-fast);
    min-height: 80px;
}

.research-btn:hover:not(:disabled) {
    transform: translateY(-2px);
    box-shadow: var(--shadow-sm);
}

.research-btn.completed {
    opacity: 0.6;
    border-color: var(--positive);
}

.research-btn.in-progress {
    border-color: var(--accent-gold);
    animation: stalledPulse 2s infinite;
}

.research-btn.available {
    border-color: #6b4423;
    cursor: pointer;
}

.research-btn.locked {
    opacity: 0.4;
    cursor: not-allowed;
}

.research-btn.unaffordable {
    opacity: 0.7;
}

.research-icon {
    font-size: 1.5em;
    display: block;
}

.research-name {
    font-weight: bold;
    color: var(--primary-dark);
    display: block;
}

.research-desc {
    font-size: 0.8em;
    color: var(--primary-light);
}

.research-status {
    font-size: 0.75em;
    font-weight: bold;
    display: block;
    margin-top: 5px;
}

/* ì§„í–‰ ë°” (ì—°êµ¬ìš©) */
.progress-bar {
    width: 100%;
    height: 24px;
    background: #c4a872;
    border-radius: var(--radius-sm);
    overflow: hidden;
    position: relative;
    border: 1px solid #8b6914;
}

.progress-bar.hidden {
    display: none;
}

.progress-fill {
    height: 100%;
    background: #c8a43a;
    transition: width 1s linear;
}

.progress-label {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-size: 0.75em;
    font-weight: bold;
    color: var(--primary-dark);
}

/* ì˜¤í”„ë¼ì¸ ë³´ê³ ì„œ */
.offline-report-overlay {
    position: fixed;
    inset: 0;
    background: rgba(0, 0, 0, 0.5);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 3000;
}

.offline-report {
    background: #e8d5a3;
    border: 3px solid #c8a43a;
    border-radius: var(--radius-md);
    padding: 30px;
    min-width: 300px;
    text-align: center;
    box-shadow: var(--shadow-lg);
    animation: achievementPop 0.5s ease-out;
}

.offline-report h3 {
    font-size: 1.3em;
    color: var(--primary);
    margin-bottom: 10px;
}

.offline-resources {
    margin: 15px 0;
    font-size: 1.1em;
    line-height: 1.8;
}

.offline-close-btn {
    margin-top: 15px;
    padding: 10px 30px;
    background: #c8a43a;
    color: #2a1a0a;
    border: none;
    border-radius: var(--radius-sm);
    cursor: pointer;
    font-weight: bold;
    min-height: 44px;
}

/* ì‚¬ìš´ë“œ í† ê¸€ ë²„íŠ¼ */
#sound-toggle-btn {
    background: #d9c49a;
    border: 2px solid #6b4423;
    border-radius: var(--radius-sm);
    padding: 8px 12px;
    font-size: 1.2em;
    cursor: pointer;
    transition: all var(--transition-fast);
    min-width: 44px;
    min-height: 44px;
}

#sound-toggle-btn:hover {
    background: #e8d5a3;
    transform: translateY(-1px);
}

#sound-toggle-btn.muted {
    opacity: 0.6;
}

/* í˜¸ë²„ ë§ˆì´í¬ë¡œ ì• ë‹ˆë©”ì´ì…˜ */
.building-btn {
    transition: transform var(--transition-fast), box-shadow var(--transition-fast);
}

.building-btn:hover:not(:disabled) {
    transform: translateY(-2px);
    box-shadow: var(--shadow-md);
}

footer button:hover {
    transform: translateY(-1px);
    box-shadow: var(--shadow-sm);
}

/* ê³„ì ˆ ì „í™˜ íŠ¸ëœì§€ì…˜ */
#season-banner {
    transition: all 0.8s ease-in-out;
}

/* ============================================
   ëª¨ë°”ì¼ ìµœì í™” (v0.3)
   ============================================ */

/* íƒœë¸”ë¦¿ */
@media (max-width: 768px) {
    .building-grid {
        grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
    }

    .resource {
        flex-direction: column;
        gap: 4px;
    }

    .trade-row {
        flex-direction: column;
    }
}

/* ëª¨ë°”ì¼ */
@media (max-width: 480px) {
    .building-grid {
        grid-template-columns: 1fr;
    }

    header h1 {
        font-size: 0.75em;
    }

    section {
        padding: 12px;
    }

    .building-btn {
        padding: 12px;
    }

    /* í„°ì¹˜ íƒ€ê²Ÿ ìµœì†Œ 44px */
    button,
    select,
    input {
        min-height: 44px;
        min-width: 44px;
    }

    .demolish-btn {
        min-height: 44px;
        padding: 10px;
    }

    /* ìì› íŒ¨ë„ 2ì—´ */
    #resources-panel {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 8px;
    }

    /* êµì—­ íŒ¨ë„ ì„¸ë¡œ ë°°ì¹˜ */
    .trade-row {
        flex-direction: column;
        gap: 8px;
    }

    .trade-row select {
        width: 100%;
    }

    /* ì—°êµ¬ ê·¸ë¦¬ë“œ ë‹¨ì¼ ì—´ */
    .research-grid {
        grid-template-columns: 1fr;
    }
}

/* í„°ì¹˜ í™˜ê²½ í˜¸ë²„ íš¨ê³¼ ì œê±° */
@media (hover: none) {
    .building-btn:hover {
        transform: none;
        box-shadow: none;
    }

    .building-btn:active {
        transform: scale(0.97);
    }
}

/* ìŠ¤í¬ë¡¤ ìµœì í™” */
#game-container {
    -webkit-overflow-scrolling: touch;
    overscroll-behavior: contain;
}

/* ============================================
   íŒ¨ë„ ì ‘ê¸°/í¼ì¹˜ê¸° í† ê¸€
   ============================================ */

.panel-toggle {
    cursor: pointer;
    user-select: none;
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding-right: 4px;
    transition: color var(--transition-fast);
}

.panel-toggle:hover {
    color: var(--accent-gold);
}

.toggle-icon {
    font-size: 0.75em;
    transition: transform var(--transition-normal);
    display: inline-block;
    line-height: 1;
    color: var(--primary-light);
}

.panel-toggle[aria-expanded="false"] .toggle-icon {
    transform: rotate(180deg);
}

/* ì ‘íˆëŠ” ì½˜í…ì¸  ì˜ì—­ */
.collapsible-content {
    overflow: hidden;
    max-height: 2000px;
    transition: max-height 0.4s ease, opacity 0.3s ease, margin 0.3s ease;
    opacity: 1;
}

.collapsible-content.collapsed {
    max-height: 0;
    opacity: 0;
    margin-top: 0 !important;
}

/* ============================================
   v0.3 ì‹ ê·œ íŒ¨ë„ ìŠ¤íƒ€ì¼
   ============================================ */

/* ê°•í™” ë²„íŠ¼ */
.upgrade-btn {
    background: #c8a43a;
    border: 2px solid #6b4423;
    border-radius: var(--radius-sm);
    padding: 4px 10px;
    font-size: 0.8em;
    font-weight: bold;
    color: #2a1a0a;
    cursor: pointer;
    transition: all 0.2s;
    min-height: 32px;
    min-width: 44px;
}

.upgrade-btn:hover:not(:disabled) {
    background: #d4b044;
    transform: scale(1.05);
    box-shadow: var(--shadow-sm);
}

.upgrade-btn:disabled {
    opacity: 0.4;
    cursor: not-allowed;
}

/* ë³„ ë“±ê¸‰ í‘œì‹œ */
.upgrade-stars {
    color: #c8a43a;
    font-size: 0.85em;
    letter-spacing: 1px;
}

.upgrade-stars .empty-star {
    color: #8b7850;
}

/* ê°•í™” í™•ì¸ ëª¨ë‹¬ */
.cost-info {
    color: #8b6914;
    font-weight: bold;
    font-size: 1.1em;
    margin-top: 10px;
}

.effect-info {
    color: #4a7a2e;
    font-weight: bold;
    font-size: 1em;
    margin-top: 8px;
}

.success-btn {
    background: #4a7a2e !important;
    border-color: #2a5a1a !important;
    color: #f0e4c8 !important;
}

.success-btn:hover {
    background: #5a8a3e !important;
}

/* ì™•ì‹¤ ì¡°ê³µ íŒ¨ë„ */
#tribute-panel {
    background: #dcc89a;
}

#tribute-panel.hidden {
    display: none;
}

.tribute-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
    gap: 12px;
}

.tribute-card {
    background: #d9c49a;
    border: 2px solid #8b6914;
    border-radius: var(--radius-sm);
    padding: 15px;
    text-align: center;
    transition: all 0.3s;
}

.tribute-card:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-sm);
}

.tribute-name {
    font-size: 1.1em;
    font-weight: bold;
    color: #2a1a0a;
    margin-bottom: 8px;
}

.tribute-cost {
    font-size: 1.2em;
    font-weight: bold;
    color: #8b6914;
    margin-bottom: 5px;
}

.tribute-reward {
    font-size: 0.9em;
    color: #4a3520;
    margin-bottom: 12px;
}

.tribute-btn {
    background: #c8a43a;
    border: 2px solid #6b4423;
    border-radius: var(--radius-sm);
    padding: 8px 20px;
    font-weight: bold;
    color: #2a1a0a;
    cursor: pointer;
    transition: all 0.2s;
    min-height: 36px;
    min-width: 44px;
}

.tribute-btn:hover:not(:disabled) {
    background: #d4b044;
    transform: translateY(-1px);
}

.tribute-btn:disabled {
    opacity: 0.4;
    cursor: not-allowed;
}

/* ì™„ë£Œëœ ì¼íšŒì„± ì¡°ê³µ */
.tribute-card.completed {
    opacity: 0.5;
    border-color: #8b7850;
}

.tribute-card.completed .tribute-btn {
    background: #a09070;
    border-color: #8b7850;
}

/* ìš©ë³‘ ê³ ìš© íŒ¨ë„ */
#mercenary-panel {
    background: #dcc89a;
}

#mercenary-panel.hidden {
    display: none;
}

.mercenary-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
    gap: 12px;
}

.mercenary-card {
    background: #d9c49a;
    border: 2px solid #8b6914;
    border-radius: var(--radius-sm);
    padding: 15px;
    text-align: center;
}

.mercenary-icon {
    font-size: 2em;
    margin-bottom: 8px;
}

.mercenary-name {
    font-size: 1.1em;
    font-weight: bold;
    color: #2a1a0a;
    margin-bottom: 5px;
}

.mercenary-desc {
    font-size: 0.85em;
    color: #4a3520;
    margin-bottom: 8px;
}

.mercenary-effect {
    font-size: 0.9em;
    color: #8b2020;
    font-weight: bold;
    margin-bottom: 8px;
}

.mercenary-cost {
    font-size: 1em;
    font-weight: bold;
    color: #8b6914;
    margin-bottom: 10px;
}

.mercenary-btn {
    background: #c8a43a;
    border: 2px solid #6b4423;
    border-radius: var(--radius-sm);
    padding: 8px 20px;
    font-weight: bold;
    color: #2a1a0a;
    cursor: pointer;
    transition: all 0.2s;
    min-height: 36px;
    min-width: 44px;
}

.mercenary-btn:hover:not(:disabled) {
    background: #d4b044;
    transform: translateY(-1px);
}

.mercenary-btn:disabled {
    opacity: 0.4;
    cursor: not-allowed;
}

.defense-status {
    background: rgba(107, 68, 35, 0.1);
    padding: 10px 15px;
    border-radius: var(--radius-sm);
    margin-bottom: 12px;
    font-size: 1.1em;
    text-align: center;
}

.defense-status strong {
    color: #8b2020;
}

/* í†µê³„ íŒ¨ë„ */
#stats-panel {
    background: #dcc89a;
}

#stats-panel.hidden {
    display: none;
}

.stats-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
    gap: 10px;
}

.stat-item {
    background: rgba(255, 255, 255, 0.3);
    border: 2px solid #8b6914;
    border-radius: var(--radius-sm);
    padding: 12px;
    display: flex;
    flex-direction: column;
    gap: 5px;
}

.stat-label {
    font-size: 0.85em;
    color: #4a3520;
}

.stat-value {
    font-family: 'Press Start 2P', 'Noto Sans KR', monospace;
    font-size: 0.85em;
    font-weight: bold;
    color: #4a6a3a;
}

/* ì´ë²¤íŠ¸ ì„ íƒ ë²„íŠ¼ */
.event-choices {
    display: flex;
    gap: 10px;
    padding: 10px;
    justify-content: center;
    flex-wrap: wrap;
}

.event-choices.hidden {
    display: none;
}

.event-choice-btn {
    background: #d9c49a;
    border: 2px solid #8b6914;
    border-radius: var(--radius-sm);
    padding: 10px 20px;
    font-weight: bold;
    color: #4a3520;
    cursor: pointer;
    transition: all 0.2s;
    min-height: 44px;
}

.event-choice-btn:hover {
    background: #e8d5a3;
    box-shadow: var(--shadow-sm);
}

/* ì—…ì  ì¹´í…Œê³ ë¦¬ íƒ­ */
.achievement-tabs {
    display: flex;
    gap: 8px;
    margin-bottom: 12px;
    flex-wrap: wrap;
}

.ach-tab {
    padding: 6px 14px;
    border: 2px solid #8b6914;
    border-radius: var(--radius-sm);
    background: #d9c49a;
    font-size: 0.85em;
    cursor: pointer;
    transition: all 0.2s;
    min-height: 36px;
}

.ach-tab:hover {
    background: #c8a43a;
}

.ach-tab.active {
    background: #6b4423;
    color: #e8d5a3;
    border-color: #2a1a0a;
}

.achievement-list-container {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
    gap: 10px;
    align-items: start;
}

.achievement-progress {
    height: 4px;
    background: #c4a872;
    border-radius: var(--radius-sm);
    margin-top: 6px;
    overflow: hidden;
}

.achievement-progress-fill {
    height: 100%;
    background: #c8a43a;
    border-radius: var(--radius-sm);
    transition: width 0.5s ease;
}

.achievement-progress-text {
    font-size: 0.75em;
    color: #6b4423;
    margin-top: 2px;
}

.achievement-empty {
    grid-column: 1 / -1;
    text-align: center;
    padding: 20px;
    color: #6b4423;
}

/* ============================================
   ë°˜ì‘í˜• ë””ìì¸ - ì‹ ê·œ íŒ¨ë„
   ============================================ */

@media (max-width: 600px) {

    .tribute-grid,
    .mercenary-grid {
        grid-template-columns: 1fr;
    }

    .stats-grid {
        grid-template-columns: 1fr 1fr;
    }

    .achievement-tabs {
        justify-content: center;
    }

    .ach-tab {
        padding: 4px 10px;
        font-size: 0.8em;
    }
}

@media (max-width: 480px) {
    .event-choices {
        flex-direction: column;
    }

    .event-choice-btn {
        width: 100%;
    }

    .upgrade-btn {
        font-size: 0.75em;
        padding: 4px 8px;
    }

    .upgrade-stars {
        font-size: 0.75em;
    }
}

/* ============================================
   v0.3 AI2 - ì—…ì  ì¹´ë“œ ë†’ì´ ìˆ˜ì •
   ============================================ */

.achievement-card {
    align-self: start;
    height: auto;
}

/* ============================================
   v0.3 AI2 - ê¸ˆí™” ì†Œë¹„ì²˜ ë²„íŠ¼ ìŠ¤íƒ€ì¼
   ============================================ */

.action-btn {
    padding: 8px 16px;
    border: 1px solid rgba(200, 164, 58, 0.4);
    border-radius: var(--radius-sm);
    background: #2a1a0a;
    color: #c8a43a;
    font-size: 14px;
    cursor: pointer;
    transition: all 0.3s ease;
    min-height: 44px;
}

.action-btn:hover {
    background: #3d2810;
}

.action-btn:disabled {
    opacity: 0.5;
    cursor: not-allowed;
    filter: grayscale(50%);
}

/* ë§ˆì„ ì”ì¹˜ ë²„íŠ¼ */
.feast-btn {
    background: #2a1a0a;
    border: 2px solid rgba(200, 164, 58, 0.5);
    color: #c8a43a;
    font-weight: bold;
}

.feast-btn:hover:not(:disabled) {
    background: #3d2810;
    box-shadow: var(--shadow-sm);
}

/* ê¸´ê¸‰ ë³´ê¸‰ ë²„íŠ¼ */
.supply-btn {
    background: #1a2a1a;
    border: 2px solid rgba(74, 122, 46, 0.5);
    color: #a8c4a0;
    font-weight: bold;
}

.supply-btn:hover:not(:disabled) {
    background: #2d3d2d;
    box-shadow: var(--shadow-sm);
}

/* ì•¼ê²½ëŒ€ í† ê¸€ ì»¨í…Œì´ë„ˆ */
.toggle-container {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 12px 15px;
    background: #d9c49a;
    border: 2px solid #8b6914;
    border-radius: var(--radius-sm);
    margin-bottom: 10px;
}

.toggle-label {
    display: flex;
    align-items: center;
    gap: 10px;
    color: #2a1a0a;
    font-weight: bold;
    cursor: pointer;
}

.toggle-label input[type="checkbox"] {
    width: 20px;
    height: 20px;
    cursor: pointer;
}

.status-text {
    font-size: 0.9em;
    color: #8b6914;
}

/* ============================================
   v0.3 AI2 - ë¹µ ë¶€ì¡± ê²½ê³  ë©”ì‹œì§€
   ============================================ */

.warning-message {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 10px 15px;
    background: rgba(184, 134, 11, 0.15);
    border: 2px solid rgba(184, 134, 11, 0.5);
    border-radius: var(--radius-sm);
    color: #b8860b;
    font-weight: bold;
    animation: warningPulse 2s infinite;
}

@keyframes warningPulse {

    0%,
    100% {
        opacity: 1;
        border-color: rgba(184, 134, 11, 0.5);
    }

    50% {
        opacity: 0.8;
        border-color: rgba(184, 134, 11, 0.8);
    }
}

/* ============================================
   v0.3 AI2 - ë¹„ì£¼ì–¼ ë…¸ë²¨ ì˜¤ë²„ë ˆì´
   ============================================ */

#vn-overlay {
    position: fixed;
    inset: 0;
    z-index: 2000;
    display: flex;
    flex-direction: column;
    background: rgba(0, 0, 0, 0.85);
}

#vn-overlay.vn-hidden {
    display: none;
}

#vn-background {
    position: absolute;
    inset: 0;
    background-size: cover;
    background-position: center;
    opacity: 0.8;
}

#vn-characters {
    position: absolute;
    bottom: 180px;
    left: 0;
    right: 0;
    display: flex;
    justify-content: space-between;
    padding: 0 10%;
    pointer-events: none;
}

.vn-char {
    max-height: 60vh;
    max-width: 30%;
    object-fit: contain;
    opacity: 0;
    transform: translateY(20px);
    transition: opacity 0.5s ease, transform 0.5s ease;
}

.vn-char.visible {
    opacity: 1;
    transform: translateY(0);
}

#vn-textbox {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    background: linear-gradient(180deg, rgba(30, 20, 10, 0.95), rgba(20, 15, 5, 0.98));
    border-top: 3px solid rgba(200, 164, 58, 0.6);
    padding: 20px 30px;
    min-height: 150px;
    cursor: pointer;
}

#vn-speaker-name {
    font-size: 1.2em;
    font-weight: bold;
    color: #c8a43a;
    margin-bottom: 10px;
    padding: 5px 15px;
    background: rgba(107, 68, 35, 0.8);
    border-radius: var(--radius-sm);
    display: inline-block;
}

#vn-dialogue-text {
    font-size: 1.1em;
    line-height: 1.8;
    color: #f0e4c8;
    min-height: 60px;
}

#vn-tap-hint {
    position: absolute;
    bottom: 15px;
    right: 30px;
    font-size: 0.85em;
    color: rgba(240, 228, 200, 0.6);
    animation: tapHintBlink 1.5s infinite;
}

@keyframes tapHintBlink {

    0%,
    100% {
        opacity: 0.6;
    }

    50% {
        opacity: 0.3;
    }
}

/* VN ì˜¤ë²„ë ˆì´ ëª¨ë°”ì¼ ëŒ€ì‘ */
@media (max-width: 600px) {
    #vn-characters {
        bottom: 140px;
        padding: 0 5%;
    }

    .vn-char {
        max-width: 35%;
        max-height: 40vh;
    }

    #vn-textbox {
        padding: 15px 20px;
        min-height: 120px;
    }

    #vn-speaker-name {
        font-size: 1em;
    }

    #vn-dialogue-text {
        font-size: 1em;
    }
}

@media (max-width: 480px) {
    #vn-characters {
        bottom: 120px;
    }

    .vn-char {
        max-width: 40%;
        max-height: 35vh;
    }

    #vn-textbox {
        padding: 12px 15px;
        min-height: 100px;
    }
}

/* ========================================
   ê²Œì„ ì„¤ëª…ì„œ ëª¨ë‹¬
   ======================================== */
#manual-modal {
    position: fixed;
    inset: 0;
    background: rgba(0, 0, 0, 0.7);
    z-index: 2500;
    display: flex;
    align-items: center;
    justify-content: center;
}
#manual-modal.hidden {
    display: none;
}

.manual-container {
    background: #e8d5a3;
    border: 4px solid #6b4423;
    border-radius: var(--radius-md);
    width: 95vw;
    max-width: 800px;
    height: 90vh;
    max-height: 90vh;
    display: flex;
    flex-direction: column;
    box-shadow: var(--shadow-lg);
    overflow: hidden;
}

.manual-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 16px 20px;
    border-bottom: 3px solid #2a1a0a;
    background: #4a3520;
    flex-shrink: 0;
}
.manual-header h2 {
    color: #e8d5a3;
    margin: 0;
    font-size: 1.3em;
}
.manual-close-btn {
    background: rgba(255, 255, 255, 0.15);
    border: 2px solid rgba(240, 228, 200, 0.5);
    border-radius: var(--radius-sm);
    color: #e8d5a3;
    font-size: 1.2em;
    width: 40px;
    height: 40px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: background 0.2s;
}
.manual-close-btn:hover {
    background: rgba(139, 32, 32, 0.4);
}

.manual-tabs {
    display: flex;
    gap: 6px;
    padding: 12px 16px;
    flex-wrap: wrap;
    border-bottom: 2px solid #8b6914;
    background: rgba(107, 68, 35, 0.08);
    flex-shrink: 0;
}
.manual-tab {
    padding: 6px 12px;
    border: 2px solid #8b6914;
    border-radius: var(--radius-sm);
    background: #d9c49a;
    font-size: 0.8em;
    cursor: pointer;
    transition: all 0.2s;
    min-height: 36px;
    white-space: nowrap;
    color: #2a1a0a;
    font-weight: bold;
}
.manual-tab:hover {
    background: #c8a43a;
}
.manual-tab.active {
    background: #6b4423;
    color: #e8d5a3;
    border-color: #2a1a0a;
}

.manual-content {
    flex: 1;
    overflow-y: auto;
    padding: 20px;
    font-size: 0.95em;
    line-height: 1.6;
    color: #2a1a0a;
}

.manual-content h3 {
    color: #4a3520;
    border-bottom: 2px solid #8b6914;
    padding-bottom: 6px;
    margin: 20px 0 12px 0;
    font-size: 1.15em;
}
.manual-content h3:first-child {
    margin-top: 0;
}
.manual-content h4 {
    color: #6b4423;
    margin: 14px 0 8px 0;
    font-size: 1em;
}

.manual-content table {
    width: 100%;
    border-collapse: collapse;
    margin: 10px 0;
    font-size: 0.88em;
}
.manual-content th {
    background: #6b4423;
    color: #f0e4c8;
    padding: 8px 10px;
    text-align: left;
    font-weight: bold;
    border: 1px solid #4a3520;
}
.manual-content td {
    padding: 6px 10px;
    border: 1px solid #8b6914;
    background: rgba(255, 255, 255, 0.3);
}
.manual-content tr:nth-child(even) td {
    background: rgba(107, 68, 35, 0.06);
}

.manual-content ul, .manual-content ol {
    padding-left: 20px;
    margin: 6px 0;
}
.manual-content li {
    margin: 4px 0;
}
.manual-content p {
    margin: 6px 0;
}

.manual-info-box {
    background: rgba(107, 68, 35, 0.1);
    border: 2px solid #8b6914;
    border-radius: var(--radius-sm);
    padding: 12px 16px;
    margin: 10px 0;
}
.manual-tip-box {
    background: rgba(74, 122, 46, 0.1);
    border: 2px solid #4a7a2e;
    border-radius: var(--radius-sm);
    padding: 12px 16px;
    margin: 10px 0;
}
.manual-warning-box {
    background: rgba(184, 134, 11, 0.12);
    border: 2px solid #b8860b;
    border-radius: var(--radius-sm);
    padding: 12px 16px;
    margin: 10px 0;
}

/* ì„¤ëª…ì„œ ëª¨ë°”ì¼ ë°˜ì‘í˜• */
@media (max-width: 600px) {
    .manual-container {
        width: 100vw;
        height: 100vh;
        max-height: 100vh;
        border-radius: 0;
    }
    .manual-tabs {
        gap: 4px;
        padding: 8px 10px;
    }
    .manual-tab {
        font-size: 0.72em;
        padding: 4px 8px;
        min-height: 32px;
    }
    .manual-content {
        padding: 14px;
        font-size: 0.9em;
    }
    .manual-content table {
        font-size: 0.8em;
    }
    .manual-content th, .manual-content td {
        padding: 4px 6px;
    }
}

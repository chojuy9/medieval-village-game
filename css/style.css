/* ì¤‘ì„¸ ë§ˆì„ ê²½ì˜ ê²Œì„ ìŠ¤íƒ€ì¼ì‹œíŠ¸ */
/* v0.3 UI/UX ê°œì„  - í”„ë¦¬ë¯¸ì—„ ë””ìì¸ ì‹œìŠ¤í…œ */

/* ============================================
   CSS ë³€ìˆ˜ - ìƒ‰ìƒ íŒ”ë ˆíŠ¸ ë° ë””ìì¸ í† í°
   ============================================ */
:root {
    /* ê¸°ë³¸ ê°ˆìƒ‰ í†¤ + ê³¨ë“œ/í¬ë¦¼ ê°•í™” */
    --primary-dark: #3d2914;
    --primary: #8B4513;
    --primary-light: #A0522D;
    --accent-gold: #D4A846;
    --accent-cream: #FFF8DC;
    --bg-parchment: #F5E6D0;
    --bg-section: linear-gradient(180deg, #FAF0E6 0%, #F5DEB3 100%);

    /* ìƒíƒœ ìƒ‰ìƒ */
    --positive: #2E7D32;
    --negative: #C62828;
    --warning: #F9A825;
    --info: #1565C0;

    /* ìƒì‚° ì²´ì¸ í‹°ì–´ ìƒ‰ìƒ */
    --tier1-color: #8B4513;
    --tier2-color: #1565C0;
    --tier3-color: #6A1B9A;

    /* ê·¸ë¦¼ì */
    --shadow-sm: 0 2px 4px rgba(0, 0, 0, 0.1);
    --shadow-md: 0 4px 12px rgba(0, 0, 0, 0.15);
    --shadow-lg: 0 8px 24px rgba(0, 0, 0, 0.2);

    /* ë‘¥ê¸€ê¸° */
    --radius-sm: 8px;
    --radius-md: 12px;
    --radius-lg: 16px;

    /* íŠ¸ëœì§€ì…˜ */
    --transition-fast: 0.2s ease;
    --transition-normal: 0.3s ease;
    --transition-slow: 0.5s ease;
}

/* ì „ì²´ ì´ˆê¸°í™” */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'Noto Sans KR', 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
    background: linear-gradient(135deg, #8B4513 0%, #D2691E 50%, #CD853F 100%);
    min-height: 100vh;
    padding: 20px;
    color: var(--primary-dark);
    transition: background-color 1.5s ease-in-out;
}

/* ê²Œì„ ì»¨í…Œì´ë„ˆ */
#game-container {
    max-width: 800px;
    margin: 0 auto;
    background: linear-gradient(180deg, #F5DEB3 0%, #DEB887 100%);
    border-radius: 15px;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3), inset 0 2px 10px rgba(255, 255, 255, 0.3);
    overflow: hidden;
    border: 4px solid #8B4513;
}

/* í—¤ë” */
header {
    background: linear-gradient(180deg, #8B4513 0%, #A0522D 100%);
    padding: 20px;
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    border-bottom: 3px solid #5D3A1A;
}

/* ê³„ì ˆ ë°°ë„ˆ */
#season-banner {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 8px 20px;
    background: linear-gradient(180deg, #E8F5E9 0%, #C8E6C9 100%);
    border-bottom: 2px solid #A5D6A7;
    font-weight: bold;
    color: #2E7D32;
    transition: background 0.5s ease, color 0.5s ease;
}

#season-banner.spring {
    background: linear-gradient(180deg, #E8F5E9 0%, #C8E6C9 100%);
    color: #2E7D32;
}

#season-banner.summer {
    background: linear-gradient(180deg, #FFF9C4 0%, #FFF176 100%);
    color: #F57F17;
}

#season-banner.autumn {
    background: linear-gradient(180deg, #FFF3E0 0%, #FFE0B2 100%);
    color: #E65100;
}

#season-banner.winter {
    background: linear-gradient(180deg, #E3F2FD 0%, #BBDEFB 100%);
    color: #1565C0;
}

.season-progress {
    flex: 1;
    height: 6px;
    background: rgba(0, 0, 0, 0.1);
    border-radius: 3px;
    overflow: hidden;
}

.season-progress-bar {
    height: 100%;
    border-radius: 3px;
    background: currentColor;
    transition: width 0.5s ease;
}

header h1 {
    font-size: 2em;
    color: #FFF8DC;
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
    font-weight: bold;
}

#menu-btn {
    position: absolute;
    right: 20px;
    background: rgba(255, 255, 255, 0.15);
    border: 2px solid rgba(255, 248, 220, 0.5);
    border-radius: 8px;
    color: #FFF8DC;
    font-size: 1.4em;
    width: 44px;
    height: 44px;
    cursor: pointer;
    transition: background 0.2s ease;
    display: flex;
    align-items: center;
    justify-content: center;
}

#menu-btn:hover {
    background: rgba(255, 255, 255, 0.3);
}

/* ëª¨ë‹¬ ì˜¤ë²„ë ˆì´ */
.modal-overlay {
    position: fixed;
    inset: 0;
    background: rgba(0, 0, 0, 0.6);
    z-index: 2000;
    display: flex;
    align-items: center;
    justify-content: center;
}

.modal-overlay.hidden {
    display: none;
}

.modal-content {
    background: linear-gradient(180deg, #F5DEB3 0%, #DEB887 100%);
    border: 4px solid #8B4513;
    border-radius: 15px;
    padding: 30px;
    min-width: 280px;
    max-width: 90vw;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
    text-align: center;
}

.modal-content h2 {
    font-size: 1.5em;
    color: #8B4513;
    margin-bottom: 25px;
}

.modal-buttons {
    display: flex;
    flex-direction: column;
    gap: 12px;
}

.modal-btn {
    background: linear-gradient(180deg, #DEB887 0%, #CD853F 100%);
    border: 2px solid #8B4513;
    border-radius: 8px;
    padding: 12px 20px;
    font-size: 1em;
    font-weight: bold;
    color: #3d2914;
    cursor: pointer;
    transition: all 0.2s ease;
    min-height: 44px;
}

.modal-btn:hover {
    background: linear-gradient(180deg, #FFE4B5 0%, #DEB887 100%);
    transform: translateY(-2px);
}

.danger-btn {
    background: linear-gradient(180deg, #FF6B6B 0%, #CC3333 100%);
    border-color: #8B0000;
    color: #FFF8DC;
}

.danger-btn:hover {
    background: linear-gradient(180deg, #FF8C8C 0%, #DD4444 100%);
}

/* ìƒˆ ê²Œì„ í™•ì¸ íŒ¨ë„ */
.confirm-panel {
    margin-top: 20px;
    padding: 15px;
    background: rgba(139, 69, 19, 0.1);
    border: 2px solid #CD853F;
    border-radius: 8px;
}

.confirm-panel p {
    color: #8B4513;
    font-size: 0.95em;
    line-height: 1.5;
    margin-bottom: 15px;
}

.confirm-buttons {
    display: flex;
    gap: 10px;
    justify-content: center;
}

/* ì„¹ì…˜ ê³µí†µ ìŠ¤íƒ€ì¼ */
section {
    padding: 20px;
    border-bottom: 2px solid #D2691E;
}

section h2 {
    font-size: 1.3em;
    color: #8B4513;
    margin-bottom: 15px;
    padding-bottom: 10px;
    border-bottom: 2px solid #CD853F;
}

/* ìì› íŒ¨ë„ */
#resources-panel {
    background: linear-gradient(180deg, #FFF8DC 0%, #FAEBD7 100%);
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 10px;
}

.resource {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 12px 15px;
    background: linear-gradient(90deg, #F5DEB3 0%, #DEB887 100%);
    border-radius: 8px;
    border: 2px solid #CD853F;
    transition: all 0.3s ease;
}

.resource:hover {
    transform: translateX(5px);
    box-shadow: 0 3px 10px rgba(139, 69, 19, 0.3);
}

.resource-icon {
    font-size: 1.8em;
    margin-right: 10px;
}

.resource-name {
    flex: 1;
    font-weight: bold;
    font-size: 1.1em;
}

.resource-amount {
    font-weight: bold;
    font-size: 1.3em;
    color: #8B4513;
    min-width: 80px;
    text-align: right;
    animation: pulse 0.5s ease-in-out;
}

.resource-rate {
    font-size: 0.8em;
    font-weight: bold;
    padding: 2px 6px;
    border-radius: 8px;
    min-width: 60px;
    text-align: center;
}

.resource-rate.positive {
    color: #2E7D32;
    background: rgba(46, 125, 50, 0.1);
}

.resource-rate.negative {
    color: #C62828;
    background: rgba(198, 40, 40, 0.1);
}

.resource-rate.neutral {
    color: #8B4513;
}

/* ì¸êµ¬ íŒ¨ë„ */
#population-panel {
    background: linear-gradient(180deg, #FFE4B5 0%, #FFDAB9 100%);
}

.stat {
    display: flex;
    justify-content: space-between;
    padding: 12px 15px;
    margin-bottom: 10px;
    background: linear-gradient(90deg, #FFEFD5 0%, #FFE4C4 100%);
    border-radius: 8px;
    border: 2px solid #DEB887;
    font-size: 1.1em;
}

.stat span:first-child {
    font-weight: bold;
    color: #8B4513;
}

.stat span:last-child {
    font-weight: bold;
    color: #A0522D;
}

/* í–‰ë³µë„ íŒ¨ë„ */
#happiness-panel {
    background: linear-gradient(180deg, #FFF0E0 0%, #FFE4C4 100%);
    padding: 15px 20px;
    border-bottom: 2px solid #D2691E;
}

.happiness-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-weight: bold;
    color: #8B4513;
    margin-bottom: 8px;
    font-size: 1.1em;
}

.happiness-bar-container {
    height: 12px;
    background: #DEB887;
    border-radius: 6px;
    overflow: hidden;
    border: 2px solid #CD853F;
}

.happiness-bar {
    height: 100%;
    border-radius: 4px;
    transition: width 0.5s ease, background 0.5s ease;
}

/* í–‰ë³µë„ ìˆ˜ì¹˜ë³„ ìƒ‰ìƒ */
.happiness-bar.high {
    background: linear-gradient(90deg, #66BB6A, #43A047);
}

.happiness-bar.medium {
    background: linear-gradient(90deg, #FFA726, #FB8C00);
}

.happiness-bar.low {
    background: linear-gradient(90deg, #EF5350, #E53935);
}

/* í–‰ë³µë„ ìš”ì¸ í‘œì‹œ */
.happiness-factors {
    display: flex;
    flex-wrap: wrap;
    gap: 5px;
    margin-top: 8px;
    font-size: 0.8em;
}

.happiness-factor {
    padding: 2px 8px;
    border-radius: 10px;
    font-weight: bold;
}

.happiness-factor.positive {
    background: #C8E6C9;
    color: #2E7D32;
}

.happiness-factor.negative {
    background: #FFCDD2;
    color: #C62828;
}

/* ê±´ë¬¼ ê±´ì„¤ ë²„íŠ¼ íŒ¨ë„ */
#buildings-panel {
    background: linear-gradient(180deg, #F0E68C 0%, #BDB76B 100%);
}

#building-buttons {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
    gap: 15px;
}

.building-btn {
    background: linear-gradient(180deg, #DEB887 0%, #D2691E 100%);
    border: 3px solid #8B4513;
    border-radius: 10px;
    padding: 15px;
    cursor: pointer;
    transition: all 0.3s ease;
    min-height: 100px;
    display: flex;
    flex-direction: column;
    justify-content: center;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
}

.building-btn:hover:not(:disabled) {
    background: linear-gradient(180deg, #FFE4B5 0%, #DEB887 100%);
    transform: translateY(-3px);
    box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3);
}

.building-btn:active:not(:disabled) {
    transform: translateY(-1px);
}

.building-btn:disabled {
    background: linear-gradient(180deg, #A9A9A9 0%, #696969 100%);
    border-color: #4A4A4A;
    opacity: 0.6;
    cursor: not-allowed;
}

.building-btn .building-name {
    font-size: 1.2em;
    font-weight: bold;
    color: #3d2914;
    margin-bottom: 8px;
}

.building-btn .building-cost {
    font-size: 0.9em;
    color: #5D3A1A;
    margin-bottom: 5px;
}

.building-btn .building-workers {
    font-size: 0.85em;
    color: #8B4513;
}

.building-btn .building-description {
    font-size: 0.8em;
    color: #6B4423;
    margin-top: 5px;
    font-style: italic;
}

/* ì ê¸ˆ ê±´ë¬¼ ìŠ¤íƒ€ì¼ */
.building-btn.locked {
    opacity: 0.4;
    filter: grayscale(70%);
    cursor: default;
    position: relative;
}

.building-btn.locked:hover {
    transform: none;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
}

.building-btn.locked::before {
    content: 'ğŸ”’';
    position: absolute;
    top: 10px;
    right: 10px;
    font-size: 1.2em;
}

.building-btn.locked .unlock-tooltip {
    position: absolute;
    bottom: 100%;
    left: 50%;
    transform: translateX(-50%);
    background: #3d2914;
    color: #FFF8DC;
    padding: 8px 12px;
    border-radius: 6px;
    font-size: 0.8em;
    white-space: nowrap;
    opacity: 0;
    visibility: hidden;
    transition: opacity 0.2s ease, visibility 0.2s ease;
    z-index: 100;
    pointer-events: none;
}

.building-btn.locked:hover .unlock-tooltip {
    opacity: 1;
    visibility: visible;
}

.building-btn.locked .unlock-tooltip::after {
    content: '';
    position: absolute;
    top: 100%;
    left: 50%;
    transform: translateX(-50%);
    border: 6px solid transparent;
    border-top-color: #3d2914;
}

/* ê±´ë¬¼ í•´ê¸ˆ ì• ë‹ˆë©”ì´ì…˜ */
@keyframes unlockBuilding {
    0% {
        opacity: 0.4;
        filter: grayscale(70%);
        transform: scale(0.95);
    }

    50% {
        opacity: 0.7;
        filter: grayscale(30%);
        transform: scale(1.02);
    }

    100% {
        opacity: 1;
        filter: grayscale(0%);
        transform: scale(1);
    }
}

.building-btn.unlocked-animation {
    animation: unlockBuilding 0.5s ease-out forwards;
}

/* ê±´ì„¤ëœ ê±´ë¬¼ íŒ¨ë„ */
#built-buildings-panel {
    background: linear-gradient(180deg, #E8DCC0 0%, #D4C4A8 100%);
}

#built-buildings-list {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
    gap: 10px;
}

.built-building {
    background: linear-gradient(90deg, #F5DEB3 0%, #DEB887 100%);
    border: 2px solid #CD853F;
    border-radius: 8px;
    padding: 12px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    animation: slideIn 0.3s ease-out;
}

.built-building .building-info {
    font-weight: bold;
    color: #8B4513;
}

.built-building .building-workers {
    font-size: 0.9em;
    color: #A0522D;
}

.built-building .building-count {
    background: #8B4513;
    color: #FFF8DC;
    padding: 3px 8px;
    border-radius: 5px;
    font-weight: bold;
    font-size: 0.9em;
}

/* ì² ê±° ë²„íŠ¼ */
.demolish-btn {
    background: rgba(198, 40, 40, 0.15);
    border: 1px solid #E53935;
    border-radius: 5px;
    padding: 4px 8px;
    cursor: pointer;
    font-size: 0.85em;
    transition: all 0.2s;
    min-width: 32px;
    min-height: 32px;
}

.demolish-btn:hover {
    background: rgba(198, 40, 40, 0.3);
    transform: scale(1.1);
}

.refund-info {
    color: #2E7D32;
    font-weight: bold;
    font-size: 0.95em;
    margin-top: 10px;
}

/* ì¼ê¾¼ +/- ì¡°ì ˆ ì»¨íŠ¸ë¡¤ */
.worker-control {
    display: flex;
    align-items: center;
    gap: 4px;
    background: rgba(139, 69, 19, 0.1);
    border: 1px solid #CD853F;
    border-radius: 6px;
    padding: 2px 4px;
}

.worker-ctrl-btn {
    width: 28px;
    height: 28px;
    border: 2px solid #8B4513;
    border-radius: 5px;
    font-size: 1.1em;
    font-weight: bold;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.15s ease;
    line-height: 1;
    padding: 0;
}

.worker-minus {
    background: linear-gradient(180deg, #FFCDD2, #EF9A9A);
    color: #C62828;
    border-color: #E57373;
}

.worker-minus:hover:not(:disabled) {
    background: linear-gradient(180deg, #EF9A9A, #E57373);
    transform: scale(1.1);
}

.worker-plus {
    background: linear-gradient(180deg, #C8E6C9, #A5D6A7);
    color: #2E7D32;
    border-color: #81C784;
}

.worker-plus:hover:not(:disabled) {
    background: linear-gradient(180deg, #A5D6A7, #81C784);
    transform: scale(1.1);
}

.worker-ctrl-btn:disabled {
    opacity: 0.35;
    cursor: not-allowed;
    transform: none;
}

.worker-display {
    font-weight: bold;
    font-size: 0.85em;
    color: #5D3A1A;
    min-width: 36px;
    text-align: center;
}

/* í‘¸í„° */
footer {
    background: linear-gradient(180deg, #8B4513 0%, #A0522D 100%);
    padding: 15px 20px;
    display: flex;
    flex-wrap: wrap;
    gap: 15px;
    align-items: center;
    justify-content: space-between;
    border-top: 3px solid #5D3A1A;
}

footer button {
    background: linear-gradient(180deg, #F5DEB3 0%, #DEB887 100%);
    border: 2px solid #8B4513;
    border-radius: 8px;
    padding: 10px 20px;
    font-size: 1em;
    font-weight: bold;
    color: #3d2914;
    cursor: pointer;
    transition: all 0.3s ease;
    min-width: 44px;
    min-height: 44px;
}

footer button:hover {
    background: linear-gradient(180deg, #FFE4B5 0%, #F5DEB3 100%);
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
}

footer button:active {
    transform: translateY(0);
}

#game-time {
    color: #FFF8DC;
    font-weight: bold;
    font-size: 1em;
}

/* ë©”ì‹œì§€ ë°•ìŠ¤ */
#message-box {
    position: fixed;
    top: 20px;
    left: 50%;
    transform: translateX(-50%);
    background: linear-gradient(180deg, #F5DEB3 0%, #DEB887 100%);
    border: 3px solid #8B4513;
    border-radius: 10px;
    padding: 15px 30px;
    font-weight: bold;
    color: #3d2914;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
    z-index: 1000;
    transition: opacity 0.3s ease, transform 0.3s ease;
    max-width: 90%;
    text-align: center;
}

#message-box.hidden {
    opacity: 0;
    transform: translateX(-50%) translateY(-20px);
    pointer-events: none;
}

#message-box.show {
    opacity: 1;
    transform: translateX(-50%) translateY(0);
    animation: slideDown 0.3s ease-out;
}

#message-box.error {
    background: linear-gradient(180deg, #FFB6C1 0%, #FF69B4 100%);
    border-color: #C71585;
    color: #8B0000;
}

#message-box.success {
    background: linear-gradient(180deg, #98FB98 0%, #32CD32 100%);
    border-color: #228B22;
    color: #006400;
}

/* ì´ë²¤íŠ¸ ë°°ë„ˆ */
#event-banner {
    background: linear-gradient(180deg, #FFF8DC 0%, #FAEBD7 100%);
    border-bottom: 3px solid #8B4513;
    padding: 15px 20px;
    transition: all 0.3s ease;
}

#event-banner.hidden {
    display: none;
}

#event-banner.show {
    animation: slideDown 0.3s ease-out;
}

#event-banner .event-content {
    display: flex;
    align-items: center;
    gap: 15px;
    margin-bottom: 10px;
}

#event-banner .event-icon {
    font-size: 2em;
    min-width: 40px;
    text-align: center;
}

#event-banner .event-info {
    flex: 1;
}

#event-banner .event-name {
    font-size: 1.2em;
    font-weight: bold;
    color: #3d2914;
    margin-bottom: 5px;
}

#event-banner .event-description {
    font-size: 0.95em;
    color: #5D3A1A;
}

#event-banner .event-progress {
    height: 6px;
    background: #DEB887;
    border-radius: 3px;
    overflow: hidden;
}

#event-banner .progress-bar {
    height: 100%;
    background: linear-gradient(90deg, #8B4513 0%, #A0522D 100%);
    border-radius: 3px;
    transition: width 0.3s ease;
}

/* ì´ë²¤íŠ¸ íƒ€ì…ë³„ ìƒ‰ìƒ */
#event-banner.event-positive {
    border-left: 4px solid #2E7D32;
}

#event-banner.event-positive .progress-bar {
    background: linear-gradient(90deg, #4CAF50 0%, #2E7D32 100%);
}

#event-banner.event-neutral {
    border-left: 4px solid #F9A825;
}

#event-banner.event-neutral .progress-bar {
    background: linear-gradient(90deg, #FFC107 0%, #F9A825 100%);
}

#event-banner.event-negative {
    border-left: 4px solid #C62828;
}

#event-banner.event-negative .progress-bar {
    background: linear-gradient(90deg, #EF5350 0%, #C62828 100%);
}

/* íŠœí† ë¦¬ì–¼ ì˜¤ë²„ë ˆì´ */
#tutorial-overlay {
    position: fixed;
    bottom: 100px;
    left: 50%;
    transform: translateX(-50%);
    z-index: 1500;
    transition: opacity 0.3s ease, transform 0.3s ease;
}

#tutorial-overlay.hidden {
    opacity: 0;
    transform: translateX(-50%) translateY(20px);
    pointer-events: none;
}

.tutorial-bubble {
    background: linear-gradient(180deg, #FFF8DC 0%, #FFE4B5 100%);
    border: 3px solid #DAA520;
    border-radius: 15px;
    padding: 15px 20px;
    max-width: 90vw;
    box-shadow: 0 5px 20px rgba(0, 0, 0, 0.3);
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 10px;
}

.tutorial-icon {
    font-size: 2em;
}

.tutorial-text {
    color: #5D3A1A;
    font-size: 1em;
    text-align: center;
    line-height: 1.5;
}

.tutorial-dismiss {
    background: linear-gradient(180deg, #DAA520 0%, #B8860B 100%);
    border: 2px solid #8B6914;
    border-radius: 8px;
    padding: 8px 20px;
    font-weight: bold;
    color: #FFF8DC;
    cursor: pointer;
    transition: all 0.2s ease;
    min-height: 44px;
}

.tutorial-dismiss:hover {
    background: linear-gradient(180deg, #FFD700 0%, #DAA520 100%);
    transform: translateY(-2px);
}

/* êµì—­ íŒ¨ë„ */
#trade-panel {
    background: linear-gradient(180deg, #E3F2FD 0%, #BBDEFB 100%);
}

#trade-panel.hidden {
    display: none;
}

#trade-controls {
    display: flex;
    flex-direction: column;
    gap: 15px;
}

.trade-row {
    display: flex;
    align-items: center;
    gap: 10px;
    flex-wrap: wrap;
}

.trade-row label {
    font-weight: bold;
    color: #1565C0;
    min-width: 80px;
}

.trade-row select,
.trade-row input {
    padding: 8px 12px;
    border: 2px solid #90CAF9;
    border-radius: 6px;
    background: #FFFFFF;
    font-size: 1em;
    min-height: 44px;
}

.trade-row select:focus,
.trade-row input:focus {
    outline: none;
    border-color: #1565C0;
}

.trade-quick-btns {
    display: flex;
    gap: 5px;
}

.trade-quick-btn {
    padding: 6px 12px;
    background: linear-gradient(180deg, #BBDEFB 0%, #90CAF9 100%);
    border: 2px solid #64B5F6;
    border-radius: 6px;
    cursor: pointer;
    font-weight: bold;
    color: #1565C0;
    transition: all 0.2s ease;
    min-height: 44px;
}

.trade-quick-btn:hover {
    background: linear-gradient(180deg, #90CAF9 0%, #64B5F6 100%);
}

.trade-info {
    background: rgba(21, 101, 192, 0.1);
    padding: 12px;
    border-radius: 8px;
    display: flex;
    justify-content: space-between;
    flex-wrap: wrap;
    gap: 10px;
}

.trade-rate {
    font-weight: bold;
    color: #1565C0;
}

.trade-preview {
    font-weight: bold;
    color: #2E7D32;
}

.trade-btn {
    background: linear-gradient(180deg, #42A5F5 0%, #1976D2 100%);
    border: 2px solid #1565C0;
    border-radius: 8px;
    padding: 12px 20px;
    font-size: 1.1em;
    font-weight: bold;
    color: #FFFFFF;
    cursor: pointer;
    transition: all 0.2s ease;
    min-height: 44px;
}

.trade-btn:hover {
    background: linear-gradient(180deg, #64B5F6 0%, #42A5F5 100%);
    transform: translateY(-2px);
}

.trade-btn:disabled {
    background: linear-gradient(180deg, #BDBDBD 0%, #9E9E9E 100%);
    border-color: #757575;
    cursor: not-allowed;
    transform: none;
}

/* ì—…ì  íŒ¨ë„ */
#achievements-panel {
    background: linear-gradient(180deg, #FFF8E1 0%, #FFECB3 100%);
}

#achievements-list {
    display: block;
}

.achievement-card {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 12px;
    background: linear-gradient(90deg, #F5DEB3 0%, #DEB887 100%);
    border: 2px solid #CD853F;
    border-radius: 8px;
    transition: all 0.3s;
}

.achievement-card.locked {
    opacity: 0.5;
    filter: grayscale(50%);
}

.achievement-card.unlocked {
    border-color: #FFD700;
    box-shadow: 0 0 8px rgba(255, 215, 0, 0.4);
}

.achievement-icon {
    font-size: 2em;
}

.achievement-info {
    flex: 1;
}

.achievement-name {
    font-weight: bold;
    color: #8B4513;
}

.achievement-desc {
    font-size: 0.85em;
    color: #6B4423;
}

.achievement-reward {
    font-size: 0.8em;
    color: #2E7D32;
    font-weight: bold;
    padding: 2px 8px;
    background: rgba(46, 125, 50, 0.1);
    border-radius: 10px;
}

/* ì—…ì  ë‹¬ì„± ì•Œë¦¼ ì˜¤ë²„ë ˆì´ */
#achievement-notification {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: linear-gradient(180deg, #FFF8DC 0%, #FFE4B5 100%);
    border: 4px solid #FFD700;
    border-radius: 15px;
    padding: 30px;
    text-align: center;
    z-index: 2500;
    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.4);
    animation: achievementPop 0.5s ease-out;
}

#achievement-notification.hidden {
    display: none;
}

@keyframes achievementPop {
    0% {
        opacity: 0;
        transform: translate(-50%, -50%) scale(0.5);
    }

    50% {
        transform: translate(-50%, -50%) scale(1.1);
    }

    100% {
        opacity: 1;
        transform: translate(-50%, -50%) scale(1);
    }
}

/* ê³„ì ˆ ì „í™˜ ì• ë‹ˆë©”ì´ì…˜ */
body.spring {
    background: linear-gradient(135deg, #81C784 0%, #AED581 50%, #DCE775 100%);
}

body.summer {
    background: linear-gradient(135deg, #FFB74D 0%, #FF8A65 50%, #FFD54F 100%);
}

body.autumn {
    background: linear-gradient(135deg, #8D6E63 0%, #A1887F 50%, #D7CCC8 100%);
}

body.winter {
    background: linear-gradient(135deg, #90CAF9 0%, #B3E5FC 50%, #E1F5FE 100%);
}

body {
    transition: background 2s ease;
}

/* ì• ë‹ˆë©”ì´ì…˜ */
@keyframes pulse {

    0%,
    100% {
        transform: scale(1);
    }

    50% {
        transform: scale(1.1);
    }
}

@keyframes slideIn {
    from {
        opacity: 0;
        transform: translateX(-20px);
    }

    to {
        opacity: 1;
        transform: translateX(0);
    }
}

@keyframes slideDown {
    from {
        opacity: 0;
        transform: translateX(-50%) translateY(-20px);
    }

    to {
        opacity: 1;
        transform: translateX(-50%) translateY(0);
    }
}

/* ë°˜ì‘í˜• ë””ìì¸ */
@media (max-width: 600px) {
    body {
        padding: 10px;
    }

    header h1 {
        font-size: 1.5em;
    }

    section {
        padding: 15px;
    }

    #building-buttons {
        grid-template-columns: 1fr;
    }

    footer {
        flex-direction: column;
        gap: 10px;
    }

    footer button {
        width: 100%;
    }

    #game-time {
        text-align: center;
    }
}

@media (max-width: 480px) {
    #resources-panel {
        grid-template-columns: 1fr;
    }

    #built-buildings-list {
        grid-template-columns: 1fr;
    }

    .resource-amount {
        min-width: 60px;
    }
}

@media (max-width: 320px) {
    header h1 {
        font-size: 1.2em;
    }

    .resource {
        padding: 10px;
    }

    .resource-icon {
        font-size: 1.5em;
    }

    .resource-name {
        font-size: 1em;
    }

    .building-btn {
        padding: 12px;
        min-height: 90px;
    }
}

/* ============================================
   v0.3 UI/UX ê°œì„  - ì¶”ê°€ ìŠ¤íƒ€ì¼
   ============================================ */

/* ê¸€ë˜ìŠ¤ëª¨í”¼ì¦˜ ìì› íŒ¨ë„ */
#resources-panel {
    background: rgba(245, 230, 208, 0.85);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    border: 1px solid rgba(139, 69, 19, 0.2);
    border-radius: var(--radius-lg);
    box-shadow: var(--shadow-md);
}

/* ìì› ê·¸ë£¹ (í‹°ì–´ë³„) */
.resource-group {
    margin-bottom: 10px;
    padding: 10px;
    border-radius: var(--radius-md);
}

.resource-group[data-tier="1"] {
    border-left: 3px solid var(--tier1-color);
}

.resource-group[data-tier="2"] {
    border-left: 3px solid var(--tier2-color);
}

.resource-group[data-tier="3"] {
    border-left: 3px solid var(--tier3-color);
}

.tier-label {
    font-size: 0.85em;
    color: var(--primary-light);
    margin-bottom: 5px;
    font-weight: 500;
}

/* ê±´ë¬¼ ë¹„ìš© ìƒ‰ìƒ ë¶„ê¸° */
.cost-sufficient {
    color: var(--positive);
    font-weight: bold;
}

.cost-insufficient {
    color: var(--negative);
    font-weight: bold;
}

/* ìì› ë³€í™” í”Œë¡œíŒ… ìˆ«ì */
.resource-float {
    position: absolute;
    animation: floatUp 1s ease-out forwards;
    font-weight: bold;
    font-size: 0.85em;
    pointer-events: none;
}

.float-positive {
    color: var(--positive);
}

.float-negative {
    color: var(--negative);
}

@keyframes floatUp {
    0% {
        opacity: 1;
        transform: translateY(0);
    }

    100% {
        opacity: 0;
        transform: translateY(-30px);
    }
}

/* ê°’ ë³€ê²½ í•˜ì´ë¼ì´íŠ¸ */
.value-changed {
    animation: valueHighlight 0.5s ease-in-out;
}

@keyframes valueHighlight {
    0% {
        transform: scale(1);
    }

    50% {
        transform: scale(1.15);
        color: var(--accent-gold);
    }

    100% {
        transform: scale(1);
    }
}

/* ì—…ì  ì•Œë¦¼ CSS ë¶„ë¦¬ */
.achievement-notification {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: linear-gradient(180deg, #FFF8DC, #F5DEB3);
    border: 4px solid var(--accent-gold);
    border-radius: var(--radius-lg);
    padding: 30px;
    z-index: 3000;
    box-shadow: var(--shadow-lg);
    animation: achievementPop 0.5s ease-out;
    text-align: center;
}

.achievement-notification .achievement-icon {
    font-size: 3em;
    margin-bottom: 10px;
}

.achievement-notification .achievement-title {
    font-size: 1.3em;
    font-weight: bold;
    color: var(--primary);
}

.achievement-notification .achievement-desc {
    color: var(--primary-light);
    margin-top: 8px;
}

.achievement-notification .achievement-reward {
    margin-top: 12px;
    color: var(--accent-gold);
    font-weight: bold;
}

/* ìƒì‚° ì²´ì¸ ê±´ë¬¼ ì¹´ë“œ */
.built-building.chain-building {
    border-left: 3px solid var(--tier2-color);
    position: relative;
}

.built-building.chain-building::before {
    content: 'â›“ï¸';
    position: absolute;
    top: -8px;
    left: 10px;
    font-size: 0.8em;
}

/* ìì› ë¶€ì¡± ê²½ê³  */
.built-building.production-stalled {
    border-left: 3px solid var(--warning);
    animation: stalledPulse 2s infinite;
}

.production-stalled-badge {
    color: var(--warning);
    font-size: 0.8em;
    font-weight: bold;
}

@keyframes stalledPulse {

    0%,
    100% {
        opacity: 1;
    }

    50% {
        opacity: 0.7;
    }
}

/* êµì—­ ì•ˆë‚´ ë¬¸êµ¬ (ì‹œì¥ ê±´ì„¤ ì „) */
.trade-placeholder {
    text-align: center;
    padding: 20px;
    color: var(--info);
}

.trade-placeholder span {
    font-size: 2em;
    display: block;
    margin-bottom: 10px;
}

/* ì—°êµ¬ íŒ¨ë„ */
#research-panel {
    background: linear-gradient(180deg, #F3E5F5 0%, #E1BEE7 100%);
}

#research-panel.hidden {
    display: none;
}

.research-placeholder {
    text-align: center;
    padding: 20px;
    color: var(--tier3-color);
}

.research-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
    gap: 10px;
}

.research-btn {
    background: linear-gradient(180deg, #E1BEE7 0%, #CE93D8 100%);
    border: 2px solid var(--tier3-color);
    border-radius: var(--radius-md);
    padding: 12px;
    cursor: pointer;
    text-align: left;
    transition: all var(--transition-fast);
    min-height: 80px;
}

.research-btn:hover:not(:disabled) {
    transform: translateY(-2px);
    box-shadow: var(--shadow-sm);
}

.research-btn.completed {
    opacity: 0.6;
    border-color: var(--positive);
}

.research-btn.in-progress {
    border-color: var(--accent-gold);
    animation: stalledPulse 2s infinite;
}

.research-btn.available {
    border-color: var(--info);
    cursor: pointer;
}

.research-btn.locked {
    opacity: 0.4;
    cursor: not-allowed;
}

.research-btn.unaffordable {
    opacity: 0.7;
}

.research-icon {
    font-size: 1.5em;
    display: block;
}

.research-name {
    font-weight: bold;
    color: var(--primary-dark);
    display: block;
}

.research-desc {
    font-size: 0.8em;
    color: var(--primary-light);
}

.research-status {
    font-size: 0.75em;
    font-weight: bold;
    display: block;
    margin-top: 5px;
}

/* ì§„í–‰ ë°” (ì—°êµ¬ìš©) */
.progress-bar {
    width: 100%;
    height: 24px;
    background: var(--bg-parchment);
    border-radius: var(--radius-sm);
    overflow: hidden;
    position: relative;
    border: 1px solid var(--primary-light);
}

.progress-bar.hidden {
    display: none;
}

.progress-fill {
    height: 100%;
    background: linear-gradient(90deg, var(--accent-gold), #E6C200);
    transition: width 1s linear;
}

.progress-label {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-size: 0.75em;
    font-weight: bold;
    color: var(--primary-dark);
}

/* ì˜¤í”„ë¼ì¸ ë³´ê³ ì„œ */
.offline-report-overlay {
    position: fixed;
    inset: 0;
    background: rgba(0, 0, 0, 0.5);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 3000;
}

.offline-report {
    background: linear-gradient(180deg, #FFF8DC, #F5DEB3);
    border: 3px solid var(--accent-gold);
    border-radius: var(--radius-lg);
    padding: 30px;
    min-width: 300px;
    text-align: center;
    box-shadow: var(--shadow-lg);
    animation: achievementPop 0.5s ease-out;
}

.offline-report h3 {
    font-size: 1.3em;
    color: var(--primary);
    margin-bottom: 10px;
}

.offline-resources {
    margin: 15px 0;
    font-size: 1.1em;
    line-height: 1.8;
}

.offline-close-btn {
    margin-top: 15px;
    padding: 10px 30px;
    background: var(--accent-gold);
    color: white;
    border: none;
    border-radius: var(--radius-sm);
    cursor: pointer;
    font-weight: bold;
    min-height: 44px;
}

/* ì‚¬ìš´ë“œ í† ê¸€ ë²„íŠ¼ */
#sound-toggle-btn {
    background: linear-gradient(180deg, #F5DEB3 0%, #DEB887 100%);
    border: 2px solid #8B4513;
    border-radius: 8px;
    padding: 8px 12px;
    font-size: 1.2em;
    cursor: pointer;
    transition: all var(--transition-fast);
    min-width: 44px;
    min-height: 44px;
}

#sound-toggle-btn:hover {
    background: linear-gradient(180deg, #FFE4B5 0%, #F5DEB3 100%);
    transform: translateY(-2px);
}

#sound-toggle-btn.muted {
    opacity: 0.6;
}

/* í˜¸ë²„ ë§ˆì´í¬ë¡œ ì• ë‹ˆë©”ì´ì…˜ */
.building-btn {
    transition: transform var(--transition-fast), box-shadow var(--transition-fast);
}

.building-btn:hover:not(:disabled) {
    transform: translateY(-3px);
    box-shadow: var(--shadow-md);
}

footer button:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-sm);
}

/* ê³„ì ˆ ì „í™˜ íŠ¸ëœì§€ì…˜ */
#season-banner {
    transition: all 0.8s ease-in-out;
}

/* ============================================
   ëª¨ë°”ì¼ ìµœì í™” (v0.3)
   ============================================ */

/* íƒœë¸”ë¦¿ */
@media (max-width: 768px) {
    .building-grid {
        grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
    }

    .resource {
        flex-direction: column;
        gap: 4px;
    }

    .trade-row {
        flex-direction: column;
    }
}

/* ëª¨ë°”ì¼ */
@media (max-width: 480px) {
    .building-grid {
        grid-template-columns: 1fr;
    }

    header h1 {
        font-size: 1.2em;
    }

    section {
        padding: 12px;
    }

    .building-btn {
        padding: 12px;
    }

    /* í„°ì¹˜ íƒ€ê²Ÿ ìµœì†Œ 44px */
    button,
    select,
    input {
        min-height: 44px;
        min-width: 44px;
    }

    .demolish-btn {
        min-height: 44px;
        padding: 10px;
    }

    /* ìì› íŒ¨ë„ 2ì—´ */
    #resources-panel {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 8px;
    }

    /* êµì—­ íŒ¨ë„ ì„¸ë¡œ ë°°ì¹˜ */
    .trade-row {
        flex-direction: column;
        gap: 8px;
    }

    .trade-row select {
        width: 100%;
    }

    /* ì—°êµ¬ ê·¸ë¦¬ë“œ ë‹¨ì¼ ì—´ */
    .research-grid {
        grid-template-columns: 1fr;
    }
}

/* í„°ì¹˜ í™˜ê²½ í˜¸ë²„ íš¨ê³¼ ì œê±° */
@media (hover: none) {
    .building-btn:hover {
        transform: none;
        box-shadow: none;
    }

    .building-btn:active {
        transform: scale(0.97);
    }
}

/* ìŠ¤í¬ë¡¤ ìµœì í™” */
#game-container {
    -webkit-overflow-scrolling: touch;
    overscroll-behavior: contain;
}

/* ============================================
   íŒ¨ë„ ì ‘ê¸°/í¼ì¹˜ê¸° í† ê¸€
   ============================================ */

.panel-toggle {
    cursor: pointer;
    user-select: none;
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding-right: 4px;
    transition: color var(--transition-fast);
}

.panel-toggle:hover {
    color: var(--accent-gold);
}

.toggle-icon {
    font-size: 0.75em;
    transition: transform var(--transition-normal);
    display: inline-block;
    line-height: 1;
    color: var(--primary-light);
}

.panel-toggle[aria-expanded="false"] .toggle-icon {
    transform: rotate(180deg);
}

/* ì ‘íˆëŠ” ì½˜í…ì¸  ì˜ì—­ */
.collapsible-content {
    overflow: hidden;
    max-height: 2000px;
    transition: max-height 0.4s ease, opacity 0.3s ease, margin 0.3s ease;
    opacity: 1;
}

.collapsible-content.collapsed {
    max-height: 0;
    opacity: 0;
    margin-top: 0 !important;
}

/* ============================================
   v0.3 ì‹ ê·œ íŒ¨ë„ ìŠ¤íƒ€ì¼
   ============================================ */

/* ê°•í™” ë²„íŠ¼ */
.upgrade-btn {
    background: linear-gradient(180deg, #FFD54F, #FFB300);
    border: 2px solid #FF8F00;
    border-radius: 6px;
    padding: 4px 10px;
    font-size: 0.8em;
    font-weight: bold;
    color: #5D4037;
    cursor: pointer;
    transition: all 0.2s;
    min-height: 32px;
    min-width: 44px;
}

.upgrade-btn:hover:not(:disabled) {
    background: linear-gradient(180deg, #FFE082, #FFD54F);
    transform: scale(1.05);
    box-shadow: 0 2px 8px rgba(255, 179, 0, 0.4);
}

.upgrade-btn:disabled {
    opacity: 0.4;
    cursor: not-allowed;
}

/* ë³„ ë“±ê¸‰ í‘œì‹œ */
.upgrade-stars {
    color: #FFD700;
    font-size: 0.85em;
    letter-spacing: 1px;
}

.upgrade-stars .empty-star {
    color: #BDBDBD;
}

/* ê°•í™” í™•ì¸ ëª¨ë‹¬ */
.cost-info {
    color: #FF8F00;
    font-weight: bold;
    font-size: 1.1em;
    margin-top: 10px;
}

.effect-info {
    color: #2E7D32;
    font-weight: bold;
    font-size: 1em;
    margin-top: 8px;
}

.success-btn {
    background: linear-gradient(180deg, #66BB6A, #43A047) !important;
    border-color: #388E3C !important;
    color: white !important;
}

.success-btn:hover {
    background: linear-gradient(180deg, #81C784, #66BB6A) !important;
}

/* ì™•ì‹¤ ì¡°ê³µ íŒ¨ë„ */
#tribute-panel {
    background: linear-gradient(180deg, #F3E5F5 0%, #E1BEE7 100%);
}

#tribute-panel.hidden {
    display: none;
}

.tribute-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
    gap: 12px;
}

.tribute-card {
    background: linear-gradient(135deg, #FFF8E1 0%, #FFE0B2 100%);
    border: 2px solid #FFB74D;
    border-radius: 10px;
    padding: 15px;
    text-align: center;
    transition: all 0.3s;
}

.tribute-card:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(255, 183, 77, 0.3);
}

.tribute-name {
    font-size: 1.1em;
    font-weight: bold;
    color: #5D4037;
    margin-bottom: 8px;
}

.tribute-cost {
    font-size: 1.2em;
    font-weight: bold;
    color: #FF8F00;
    margin-bottom: 5px;
}

.tribute-reward {
    font-size: 0.9em;
    color: #6D4C41;
    margin-bottom: 12px;
}

.tribute-btn {
    background: linear-gradient(180deg, #CE93D8, #AB47BC);
    border: 2px solid #8E24AA;
    border-radius: 8px;
    padding: 8px 20px;
    font-weight: bold;
    color: white;
    cursor: pointer;
    transition: all 0.2s;
    min-height: 36px;
    min-width: 44px;
}

.tribute-btn:hover:not(:disabled) {
    background: linear-gradient(180deg, #E1BEE7, #CE93D8);
}

.tribute-btn:disabled {
    opacity: 0.4;
    cursor: not-allowed;
}

/* ì™„ë£Œëœ ì¼íšŒì„± ì¡°ê³µ */
.tribute-card.completed {
    opacity: 0.5;
    border-color: #9E9E9E;
}

.tribute-card.completed .tribute-btn {
    background: #BDBDBD;
    border-color: #9E9E9E;
}

/* ìš©ë³‘ ê³ ìš© íŒ¨ë„ */
#mercenary-panel {
    background: linear-gradient(180deg, #FFEBEE 0%, #FFCDD2 100%);
}

#mercenary-panel.hidden {
    display: none;
}

.mercenary-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
    gap: 12px;
}

.mercenary-card {
    background: linear-gradient(135deg, #FBE9E7 0%, #FFCCBC 100%);
    border: 2px solid #FF8A65;
    border-radius: 10px;
    padding: 15px;
    text-align: center;
}

.mercenary-icon {
    font-size: 2em;
    margin-bottom: 8px;
}

.mercenary-name {
    font-size: 1.1em;
    font-weight: bold;
    color: #5D4037;
    margin-bottom: 5px;
}

.mercenary-desc {
    font-size: 0.85em;
    color: #6D4C41;
    margin-bottom: 8px;
}

.mercenary-effect {
    font-size: 0.9em;
    color: #BF360C;
    font-weight: bold;
    margin-bottom: 8px;
}

.mercenary-cost {
    font-size: 1em;
    font-weight: bold;
    color: #FF8F00;
    margin-bottom: 10px;
}

.mercenary-btn {
    background: linear-gradient(180deg, #FF8A65, #FF5722);
    border: 2px solid #E64A19;
    border-radius: 8px;
    padding: 8px 20px;
    font-weight: bold;
    color: white;
    cursor: pointer;
    transition: all 0.2s;
    min-height: 36px;
    min-width: 44px;
}

.mercenary-btn:hover:not(:disabled) {
    background: linear-gradient(180deg, #FFAB91, #FF8A65);
}

.mercenary-btn:disabled {
    opacity: 0.4;
    cursor: not-allowed;
}

.defense-status {
    background: rgba(139, 69, 19, 0.1);
    padding: 10px 15px;
    border-radius: 8px;
    margin-bottom: 12px;
    font-size: 1.1em;
    text-align: center;
}

.defense-status strong {
    color: #BF360C;
}

/* í†µê³„ íŒ¨ë„ */
#stats-panel {
    background: linear-gradient(180deg, #E8F5E9 0%, #C8E6C9 100%);
}

#stats-panel.hidden {
    display: none;
}

.stats-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
    gap: 10px;
}

.stat-item {
    background: rgba(255, 255, 255, 0.7);
    border: 2px solid #81C784;
    border-radius: 8px;
    padding: 12px;
    display: flex;
    flex-direction: column;
    gap: 5px;
}

.stat-label {
    font-size: 0.85em;
    color: #6D4C41;
}

.stat-value {
    font-size: 1.2em;
    font-weight: bold;
    color: #2E7D32;
}

/* ì´ë²¤íŠ¸ ì„ íƒ ë²„íŠ¼ */
.event-choices {
    display: flex;
    gap: 10px;
    padding: 10px;
    justify-content: center;
    flex-wrap: wrap;
}

.event-choices.hidden {
    display: none;
}

.event-choice-btn {
    background: linear-gradient(180deg, #FFF8E1, #FFE0B2);
    border: 2px solid #FFB74D;
    border-radius: 8px;
    padding: 10px 20px;
    font-weight: bold;
    color: #5D4037;
    cursor: pointer;
    transition: all 0.2s;
    min-height: 44px;
}

.event-choice-btn:hover {
    background: linear-gradient(180deg, #FFE0B2, #FFCC80);
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(255, 183, 77, 0.3);
}

/* ì—…ì  ì¹´í…Œê³ ë¦¬ íƒ­ */
.achievement-tabs {
    display: flex;
    gap: 8px;
    margin-bottom: 12px;
    flex-wrap: wrap;
}

.ach-tab {
    padding: 6px 14px;
    border: 2px solid #CD853F;
    border-radius: 20px;
    background: #F5DEB3;
    font-size: 0.85em;
    cursor: pointer;
    transition: all 0.2s;
    min-height: 36px;
}

.ach-tab:hover {
    background: #DEB887;
}

.ach-tab.active {
    background: #8B4513;
    color: #FFF8DC;
    border-color: #5D3A1A;
}

.achievement-list-container {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
    gap: 10px;
    align-items: start;
    /* ì¹´ë“œ ë†’ì´ ê°œë³„í™” */
}

.achievement-progress {
    height: 4px;
    background: #DEB887;
    border-radius: 2px;
    margin-top: 6px;
    overflow: hidden;
}

.achievement-progress-fill {
    height: 100%;
    background: linear-gradient(90deg, #FFD700, #FFA000);
    border-radius: 2px;
    transition: width 0.5s ease;
}

.achievement-progress-text {
    font-size: 0.75em;
    color: #8B4513;
    margin-top: 2px;
}

.achievement-empty {
    grid-column: 1 / -1;
    text-align: center;
    padding: 20px;
    color: #8B4513;
}

/* ============================================
   ë°˜ì‘í˜• ë””ìì¸ - ì‹ ê·œ íŒ¨ë„
   ============================================ */

@media (max-width: 600px) {

    .tribute-grid,
    .mercenary-grid {
        grid-template-columns: 1fr;
    }

    .stats-grid {
        grid-template-columns: 1fr 1fr;
    }

    .achievement-tabs {
        justify-content: center;
    }

    .ach-tab {
        padding: 4px 10px;
        font-size: 0.8em;
    }
}

@media (max-width: 480px) {
    .event-choices {
        flex-direction: column;
    }

    .event-choice-btn {
        width: 100%;
    }

    .upgrade-btn {
        font-size: 0.75em;
        padding: 4px 8px;
    }

    .upgrade-stars {
        font-size: 0.75em;
    }
}

/* ============================================
   v0.3 AI2 - ì—…ì  ì¹´ë“œ ë†’ì´ ìˆ˜ì •
   ============================================ */

.achievement-card {
    align-self: start;
    /* ê·¸ë¦¬ë“œ ìŠ¤íŠ¸ë ˆì¹­ ë°©ì§€ */
    height: auto;
    /* ê³ ì • ë†’ì´ ì œê±° */
}

/* ============================================
   v0.3 AI2 - ê¸ˆí™” ì†Œë¹„ì²˜ ë²„íŠ¼ ìŠ¤íƒ€ì¼
   ============================================ */

.action-btn {
    padding: 8px 16px;
    border: 1px solid rgba(255, 215, 0, 0.4);
    border-radius: 6px;
    background: linear-gradient(135deg, #2a1f0a, #3d2b10);
    color: #FFD700;
    font-size: 14px;
    cursor: pointer;
    transition: all 0.3s ease;
    min-height: 44px;
}

.action-btn:hover {
    background: linear-gradient(135deg, #3d2b10, #5a3f1a);
}

.action-btn:disabled {
    opacity: 0.5;
    cursor: not-allowed;
    filter: grayscale(50%);
}

/* ë§ˆì„ ì”ì¹˜ ë²„íŠ¼ */
.feast-btn {
    background: linear-gradient(135deg, #2a1f0a, #3d2b10);
    border: 2px solid rgba(255, 215, 0, 0.5);
    color: #FFD700;
    font-weight: bold;
}

.feast-btn:hover:not(:disabled) {
    background: linear-gradient(135deg, #3d2b10, #5a3f1a);
    box-shadow: 0 0 10px rgba(255, 215, 0, 0.3);
}

/* ê¸´ê¸‰ ë³´ê¸‰ ë²„íŠ¼ */
.supply-btn {
    background: linear-gradient(135deg, #1a2a1a, #2d3d2d);
    border: 2px solid rgba(76, 175, 80, 0.5);
    color: #81C784;
    font-weight: bold;
}

.supply-btn:hover:not(:disabled) {
    background: linear-gradient(135deg, #2d3d2d, #3d5a3d);
    box-shadow: 0 0 10px rgba(76, 175, 80, 0.3);
}

/* ì•¼ê²½ëŒ€ í† ê¸€ ì»¨í…Œì´ë„ˆ */
.toggle-container {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 12px 15px;
    background: linear-gradient(90deg, #2a2a3a, #3a3a4a);
    border: 2px solid rgba(100, 100, 150, 0.5);
    border-radius: 8px;
    margin-bottom: 10px;
}

.toggle-label {
    display: flex;
    align-items: center;
    gap: 10px;
    color: #E0E0E0;
    font-weight: bold;
    cursor: pointer;
}

.toggle-label input[type="checkbox"] {
    width: 20px;
    height: 20px;
    cursor: pointer;
}

.status-text {
    font-size: 0.9em;
    color: #FFD700;
}

/* ============================================
   v0.3 AI2 - ë¹µ ë¶€ì¡± ê²½ê³  ë©”ì‹œì§€
   ============================================ */

.warning-message {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 10px 15px;
    background: linear-gradient(90deg, rgba(255, 152, 0, 0.2), rgba(255, 193, 7, 0.1));
    border: 2px solid rgba(255, 152, 0, 0.5);
    border-radius: 8px;
    color: #FF9800;
    font-weight: bold;
    animation: warningPulse 2s infinite;
}

@keyframes warningPulse {

    0%,
    100% {
        opacity: 1;
        border-color: rgba(255, 152, 0, 0.5);
    }

    50% {
        opacity: 0.8;
        border-color: rgba(255, 152, 0, 0.8);
    }
}

/* ============================================
   v0.3 AI2 - ë¹„ì£¼ì–¼ ë…¸ë²¨ ì˜¤ë²„ë ˆì´
   ============================================ */

#vn-overlay {
    position: fixed;
    inset: 0;
    z-index: 2000;
    display: flex;
    flex-direction: column;
    background: rgba(0, 0, 0, 0.85);
}

#vn-overlay.vn-hidden {
    display: none;
}

#vn-background {
    position: absolute;
    inset: 0;
    background-size: cover;
    background-position: center;
    opacity: 0.8;
}

#vn-characters {
    position: absolute;
    bottom: 180px;
    left: 0;
    right: 0;
    display: flex;
    justify-content: space-between;
    padding: 0 10%;
    pointer-events: none;
}

.vn-char {
    max-height: 60vh;
    max-width: 30%;
    object-fit: contain;
    opacity: 0;
    transform: translateY(20px);
    transition: opacity 0.5s ease, transform 0.5s ease;
}

.vn-char.visible {
    opacity: 1;
    transform: translateY(0);
}

#vn-textbox {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    background: linear-gradient(180deg, rgba(30, 20, 10, 0.95), rgba(20, 15, 5, 0.98));
    border-top: 3px solid rgba(255, 215, 0, 0.6);
    padding: 20px 30px;
    min-height: 150px;
    cursor: pointer;
}

#vn-speaker-name {
    font-size: 1.2em;
    font-weight: bold;
    color: #FFD700;
    margin-bottom: 10px;
    padding: 5px 15px;
    background: rgba(139, 69, 19, 0.8);
    border-radius: 5px;
    display: inline-block;
}

#vn-dialogue-text {
    font-size: 1.1em;
    line-height: 1.8;
    color: #FFF8DC;
    min-height: 60px;
}

#vn-tap-hint {
    position: absolute;
    bottom: 15px;
    right: 30px;
    font-size: 0.85em;
    color: rgba(255, 248, 220, 0.6);
    animation: tapHintBlink 1.5s infinite;
}

@keyframes tapHintBlink {

    0%,
    100% {
        opacity: 0.6;
    }

    50% {
        opacity: 0.3;
    }
}

/* VN ì˜¤ë²„ë ˆì´ ëª¨ë°”ì¼ ëŒ€ì‘ */
@media (max-width: 600px) {
    #vn-characters {
        bottom: 140px;
        padding: 0 5%;
    }

    .vn-char {
        max-width: 35%;
        max-height: 40vh;
    }

    #vn-textbox {
        padding: 15px 20px;
        min-height: 120px;
    }

    #vn-speaker-name {
        font-size: 1em;
    }

    #vn-dialogue-text {
        font-size: 1em;
    }
}

@media (max-width: 480px) {
    #vn-characters {
        bottom: 120px;
    }

    .vn-char {
        max-width: 40%;
        max-height: 35vh;
    }

    #vn-textbox {
        padding: 12px 15px;
        min-height: 100px;
    }
}

/* ========================================
   ê²Œì„ ì„¤ëª…ì„œ ëª¨ë‹¬
   ======================================== */
#manual-modal {
    position: fixed;
    inset: 0;
    background: rgba(0, 0, 0, 0.7);
    z-index: 2500;
    display: flex;
    align-items: center;
    justify-content: center;
}
#manual-modal.hidden {
    display: none;
}

.manual-container {
    background: linear-gradient(180deg, #F5DEB3 0%, #DEB887 100%);
    border: 4px solid #8B4513;
    border-radius: 15px;
    width: 95vw;
    max-width: 800px;
    height: 90vh;
    max-height: 90vh;
    display: flex;
    flex-direction: column;
    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.6);
    overflow: hidden;
}

.manual-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 16px 20px;
    border-bottom: 3px solid #8B4513;
    background: linear-gradient(180deg, #8B4513 0%, #5D3A1A 100%);
    flex-shrink: 0;
}
.manual-header h2 {
    color: #FFF8DC;
    margin: 0;
    font-size: 1.3em;
}
.manual-close-btn {
    background: rgba(255, 255, 255, 0.15);
    border: 2px solid rgba(255, 248, 220, 0.5);
    border-radius: 8px;
    color: #FFF8DC;
    font-size: 1.2em;
    width: 40px;
    height: 40px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: background 0.2s;
}
.manual-close-btn:hover {
    background: rgba(255, 100, 100, 0.4);
}

.manual-tabs {
    display: flex;
    gap: 6px;
    padding: 12px 16px;
    flex-wrap: wrap;
    border-bottom: 2px solid #CD853F;
    background: rgba(139, 69, 19, 0.08);
    flex-shrink: 0;
}
.manual-tab {
    padding: 6px 12px;
    border: 2px solid #CD853F;
    border-radius: 20px;
    background: #F5DEB3;
    font-size: 0.8em;
    cursor: pointer;
    transition: all 0.2s;
    min-height: 36px;
    white-space: nowrap;
    color: #3d2914;
    font-weight: bold;
}
.manual-tab:hover {
    background: #DEB887;
}
.manual-tab.active {
    background: #8B4513;
    color: #FFF8DC;
    border-color: #5D3A1A;
}

.manual-content {
    flex: 1;
    overflow-y: auto;
    padding: 20px;
    font-size: 0.95em;
    line-height: 1.6;
    color: #3d2914;
}

.manual-content h3 {
    color: #5D3A1A;
    border-bottom: 2px solid #CD853F;
    padding-bottom: 6px;
    margin: 20px 0 12px 0;
    font-size: 1.15em;
}
.manual-content h3:first-child {
    margin-top: 0;
}
.manual-content h4 {
    color: #8B4513;
    margin: 14px 0 8px 0;
    font-size: 1em;
}

.manual-content table {
    width: 100%;
    border-collapse: collapse;
    margin: 10px 0;
    font-size: 0.88em;
}
.manual-content th {
    background: #8B4513;
    color: #FFF8DC;
    padding: 8px 10px;
    text-align: left;
    font-weight: bold;
    border: 1px solid #5D3A1A;
}
.manual-content td {
    padding: 6px 10px;
    border: 1px solid #CD853F;
    background: rgba(255, 255, 255, 0.3);
}
.manual-content tr:nth-child(even) td {
    background: rgba(139, 69, 19, 0.06);
}

.manual-content ul, .manual-content ol {
    padding-left: 20px;
    margin: 6px 0;
}
.manual-content li {
    margin: 4px 0;
}
.manual-content p {
    margin: 6px 0;
}

.manual-info-box {
    background: rgba(139, 69, 19, 0.1);
    border: 2px solid #CD853F;
    border-radius: 10px;
    padding: 12px 16px;
    margin: 10px 0;
}
.manual-tip-box {
    background: rgba(46, 125, 50, 0.1);
    border: 2px solid #4CAF50;
    border-radius: 10px;
    padding: 12px 16px;
    margin: 10px 0;
}
.manual-warning-box {
    background: rgba(255, 152, 0, 0.12);
    border: 2px solid #FF9800;
    border-radius: 10px;
    padding: 12px 16px;
    margin: 10px 0;
}

/* ì„¤ëª…ì„œ ëª¨ë°”ì¼ ë°˜ì‘í˜• */
@media (max-width: 600px) {
    .manual-container {
        width: 100vw;
        height: 100vh;
        max-height: 100vh;
        border-radius: 0;
    }
    .manual-tabs {
        gap: 4px;
        padding: 8px 10px;
    }
    .manual-tab {
        font-size: 0.72em;
        padding: 4px 8px;
        min-height: 32px;
    }
    .manual-content {
        padding: 14px;
        font-size: 0.9em;
    }
    .manual-content table {
        font-size: 0.8em;
    }
    .manual-content th, .manual-content td {
        padding: 4px 6px;
    }
}